!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=141)}([function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||Function("return this")()}).call(this,n(83))},function(e,t,n){var r=n(0),o=n(42),i=n(3),a=n(43),s=n(45),c=n(71),u=o("wks"),l=r.Symbol,f=c?l:l&&l.withoutSetter||a;e.exports=function(e){return i(u,e)||(s&&i(l,e)?u[e]=l[e]:u[e]=f("Symbol."+e)),u[e]}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(0),o=n(21).f,i=n(8),a=n(10),s=n(28),c=n(68),u=n(56);e.exports=function(e,t){var n,l,f,d,h,p=e.target,v=e.global,m=e.stat;if(n=v?r:m?r[p]||s(p,{}):(r[p]||{}).prototype)for(l in t){if(d=t[l],f=e.noTargetGet?(h=o(n,l))&&h.value:n[l],!u(v?l:p+(m?".":"#")+l,e.forced)&&void 0!==f){if(typeof d==typeof f)continue;c(d,f)}(e.sham||f&&f.sham)&&i(d,"sham",!0),a(n,l,d,e)}}},function(e,t,n){var r=n(6);e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var r=n(2);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(e,t,n){var r=n(7),o=n(9),i=n(17);e.exports=r?function(e,t,n){return o.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(7),o=n(51),i=n(5),a=n(22),s=Object.defineProperty;t.f=r?s:function(e,t,n){if(i(e),t=a(t,!0),i(n),o)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(0),o=n(8),i=n(3),a=n(28),s=n(35),c=n(15),u=c.get,l=c.enforce,f=String(String).split("String");(e.exports=function(e,t,n,s){var c=!!s&&!!s.unsafe,u=!!s&&!!s.enumerable,d=!!s&&!!s.noTargetGet;"function"==typeof n&&("string"!=typeof t||i(n,"name")||o(n,"name",t),l(n).source=f.join("string"==typeof t?t:"")),e!==r?(c?!d&&e[t]&&(u=!0):delete e[t],u?e[t]=n:o(e,t,n)):u?e[t]=n:a(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&u(this).source||s(this)}))},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(26),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t,n){var r=n(34),o=n(18);e.exports=function(e){return r(o(e))}},function(e,t,n){var r=n(69),o=n(0),i=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?i(r[e])||i(o[e]):r[e]&&r[e][t]||o[e]&&o[e][t]}},function(e,t,n){var r,o,i,a=n(84),s=n(0),c=n(6),u=n(8),l=n(3),f=n(36),d=n(29),h=s.WeakMap;if(a){var p=new h,v=p.get,m=p.has,g=p.set;r=function(e,t){return g.call(p,e,t),t},o=function(e){return v.call(p,e)||{}},i=function(e){return m.call(p,e)}}else{var y=f("state");d[y]=!0,r=function(e,t){return u(e,y,t),t},o=function(e){return l(e,y)?e[y]:{}},i=function(e){return l(e,y)}}e.exports={set:r,get:o,has:i,enforce:function(e){return i(e)?o(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!c(t)||(n=o(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},function(e,t,n){var r=n(18);e.exports=function(e){return Object(r(e))}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},function(e,t){e.exports=!1},function(e,t){e.exports={}},function(e,t,n){var r=n(7),o=n(50),i=n(17),a=n(13),s=n(22),c=n(3),u=n(51),l=Object.getOwnPropertyDescriptor;t.f=r?l:function(e,t){if(e=a(e),t=s(t,!0),u)try{return l(e,t)}catch(e){}if(c(e,t))return i(!o.f.call(e,t),e[t])}},function(e,t,n){var r=n(6);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},function(e,t,n){"use strict";var r=n(13),o=n(74),i=n(20),a=n(15),s=n(91),c=a.set,u=a.getterFor("Array Iterator");e.exports=s(Array,"Array",(function(e,t){c(this,{type:"Array Iterator",target:r(e),index:0,kind:t})}),(function(){var e=u(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")},function(e,t,n){var r=n(9).f,o=n(3),i=n(1)("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(32),o=n(10),i=n(95);r||o(Object.prototype,"toString",i,{unsafe:!0})},function(e,t,n){var r=n(0),o=n(8);e.exports=function(e,t){try{o(r,e,t)}catch(n){r[e]=t}return t}},function(e,t){e.exports={}},function(e,t,n){"use strict";var r=n(4),o=n(142);r({target:"Array",proto:!0,forced:[].forEach!=o},{forEach:o})},function(e,t,n){var r=n(23);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var r={};r[n(1)("toStringTag")]="z",e.exports="[object z]"===String(r)},function(e,t,n){"use strict";var r=n(57).charAt,o=n(15),i=n(91),a=o.set,s=o.getterFor("String Iterator");i(String,"String",(function(e){a(this,{type:"String Iterator",string:String(e),index:0})}),(function(){var e,t=s(this),n=t.string,o=t.index;return o>=n.length?{value:void 0,done:!0}:(e=r(n,o),t.index+=e.length,{value:e,done:!1})}))},function(e,t,n){var r=n(2),o=n(11),i="".split;e.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==o(e)?i.call(e,""):Object(e)}:Object},function(e,t,n){var r=n(52),o=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(e){return o.call(e)}),e.exports=r.inspectSource},function(e,t,n){var r=n(42),o=n(43),i=r("keys");e.exports=function(e){return i[e]||(i[e]=o(e))}},function(e,t,n){var r=n(7),o=n(2),i=n(3),a=Object.defineProperty,s={},c=function(e){throw e};e.exports=function(e,t){if(i(s,e))return s[e];t||(t={});var n=[][e],u=!!i(t,"ACCESSORS")&&t.ACCESSORS,l=i(t,0)?t[0]:c,f=i(t,1)?t[1]:void 0;return s[e]=!!n&&!o((function(){if(u&&!r)return!0;var e={length:-1};u?a(e,1,{enumerable:!0,get:c}):e[1]=1,n.call(e,l,f)}))}},function(e,t,n){var r=n(32),o=n(11),i=n(1)("toStringTag"),a="Arguments"==o(function(){return arguments}());e.exports=r?o:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?n:a?o(t):"Object"==(r=o(t))&&"function"==typeof t.callee?"Arguments":r}},function(e,t,n){var r=n(38),o=n(20),i=n(1)("iterator");e.exports=function(e){if(null!=e)return e[i]||e["@@iterator"]||o[r(e)]}},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n(64),n(65);var i=function(){"use strict";function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,e),this.type=t.type,this.value=t.value,this.tileName=this.value+" "+this.type,t.faceDown?(this.faceDown=!0,this.imageUrl="assets/tiles/face-down.png",this.value&&this.type?this.tileName="Face Down "+this.tileName:this.tileName="Face Down Tile"):this.imageUrl="assets/tiles/"+this.type+"s/"+this.value+".png",this.matches=function(t){return!this.faceDown&&(t instanceof e&&t.type===this.type&&t.value===this.value)},this.isDouble=function(e){return 0},this.getPoints=function(){return 0},this.toJSON=function(){var e={class:"Tile"};return e.type=this.type,e.value=this.value,this.faceDown&&(e.faceDown=this.faceDown),JSON.stringify(e)}.bind(this),this.isSequence=!1,this.isPongOrKong=!1,this.isPair=!1}var t,n,i;return t=e,i=[{key:"fromJSON",value:function(t){var n=JSON.parse(t);if("Tile"!==n.class)throw"String was not created by Tile.toJSON()";return new e(n)}}],(n=null)&&o(t.prototype,n),i&&o(t,i),e}();e.exports=i},function(e,t,n){var r=n(0),o=n(6),i=r.document,a=o(i)&&o(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},function(e,t,n){var r=n(19),o=n(52);(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:r?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+r).toString(36)}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t,n){var r=n(2);e.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},function(e,t,n){"use strict";var r=n(4),o=n(62).includes,i=n(74);r({target:"Array",proto:!0,forced:!n(37)("indexOf",{ACCESSORS:!0,1:0})},{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),i("includes")},function(e,t,n){var r,o=n(5),i=n(89),a=n(44),s=n(29),c=n(75),u=n(41),l=n(36),f=l("IE_PROTO"),d=function(){},h=function(e){return"<script>"+e+"<\/script>"},p=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;p=r?function(e){e.write(h("")),e.close();var t=e.parentWindow.Object;return e=null,t}(r):((t=u("iframe")).style.display="none",c.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(h("document.F=Object")),e.close(),e.F);for(var n=a.length;n--;)delete p.prototype[a[n]];return p()};s[f]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(d.prototype=o(e),n=new d,d.prototype=null,n[f]=e):n=p(),void 0===t?n:i(n,t)}},function(e,t,n){var r=n(0),o=n(105),i=n(24),a=n(8),s=n(1),c=s("iterator"),u=s("toStringTag"),l=i.values;for(var f in o){var d=r[f],h=d&&d.prototype;if(h){if(h[c]!==l)try{a(h,c,l)}catch(e){h[c]=l}if(h[u]||a(h,u,f),o[f])for(var p in i)if(h[p]!==i[p])try{a(h,p,i[p])}catch(e){h[p]=i[p]}}}},function(e,t,n){var r=n(0),o=n(105),i=n(142),a=n(8);for(var s in o){var c=r[s],u=c&&c.prototype;if(u&&u.forEach!==i)try{a(u,"forEach",i)}catch(e){u.forEach=i}}},function(e,t,n){"use strict";var r={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!r.call({1:2},1);t.f=i?function(e){var t=o(this,e);return!!t&&t.enumerable}:r},function(e,t,n){var r=n(7),o=n(2),i=n(41);e.exports=!r&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(0),o=n(28),i=r["__core-js_shared__"]||o("__core-js_shared__",{});e.exports=i},function(e,t,n){var r=n(61),o=n(44).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},function(e,t,n){var r=n(26),o=Math.max,i=Math.min;e.exports=function(e,t){var n=r(e);return n<0?o(n+t,0):i(n,t)}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(2),o=/#|\.prototype\./,i=function(e,t){var n=s[a(e)];return n==u||n!=c&&("function"==typeof t?r(t):!!t)},a=i.normalize=function(e){return String(e).replace(o,".").toLowerCase()},s=i.data={},c=i.NATIVE="N",u=i.POLYFILL="P";e.exports=i},function(e,t,n){var r=n(26),o=n(18),i=function(e){return function(t,n){var i,a,s=String(o(t)),c=r(n),u=s.length;return c<0||c>=u?e?"":void 0:(i=s.charCodeAt(c))<55296||i>56319||c+1===u||(a=s.charCodeAt(c+1))<56320||a>57343?e?s.charAt(c):i:e?s.slice(c,c+2):a-56320+(i-55296<<10)+65536}};e.exports={codeAt:i(!1),charAt:i(!0)}},function(e,t){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},function(e,t,n){"use strict";var r,o,i=n(104),a=n(136),s=RegExp.prototype.exec,c=String.prototype.replace,u=s,l=(r=/a/,o=/b*/g,s.call(r,"a"),s.call(o,"a"),0!==r.lastIndex||0!==o.lastIndex),f=a.UNSUPPORTED_Y||a.BROKEN_CARET,d=void 0!==/()??/.exec("")[1];(l||d||f)&&(u=function(e){var t,n,r,o,a=this,u=f&&a.sticky,h=i.call(a),p=a.source,v=0,m=e;return u&&(-1===(h=h.replace("y","")).indexOf("g")&&(h+="g"),m=String(e).slice(a.lastIndex),a.lastIndex>0&&(!a.multiline||a.multiline&&"\n"!==e[a.lastIndex-1])&&(p="(?: "+p+")",m=" "+m,v++),n=new RegExp("^(?:"+p+")",h)),d&&(n=new RegExp("^"+p+"$(?!\\s)",h)),l&&(t=a.lastIndex),r=s.call(u?n:a,m),u?r?(r.input=r.input.slice(v),r[0]=r[0].slice(v),r.index=a.lastIndex,a.lastIndex+=r[0].length):a.lastIndex=0:l&&r&&(a.lastIndex=a.global?r.index+r[0].length:t),d&&r&&r.length>1&&c.call(r[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)})),r}),e.exports=u},function(e,t,n){"use strict";var r=n(4),o=n(2),i=n(102),a=n(6),s=n(16),c=n(12),u=n(70),l=n(114),f=n(86),d=n(1),h=n(87),p=d("isConcatSpreadable"),v=h>=51||!o((function(){var e=[];return e[p]=!1,e.concat()[0]!==e})),m=f("concat"),g=function(e){if(!a(e))return!1;var t=e[p];return void 0!==t?!!t:i(e)};r({target:"Array",proto:!0,forced:!v||!m},{concat:function(e){var t,n,r,o,i,a=s(this),f=l(a,0),d=0;for(t=-1,r=arguments.length;t<r;t++)if(g(i=-1===t?a:arguments[t])){if(d+(o=c(i.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<o;n++,d++)n in i&&u(f,d,i[n])}else{if(d>=9007199254740991)throw TypeError("Maximum allowed index exceeded");u(f,d++,i)}return f.length=d,f}})},function(e,t,n){var r=n(3),o=n(13),i=n(62).indexOf,a=n(29);e.exports=function(e,t){var n,s=o(e),c=0,u=[];for(n in s)!r(a,n)&&r(s,n)&&u.push(n);for(;t.length>c;)r(s,n=t[c++])&&(~i(u,n)||u.push(n));return u}},function(e,t,n){var r=n(13),o=n(12),i=n(54),a=function(e){return function(t,n,a){var s,c=r(t),u=o(c.length),l=i(a,u);if(e&&n!=n){for(;u>l;)if((s=c[l++])!=s)return!0}else for(;u>l;l++)if((e||l in c)&&c[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},function(e,t,n){var r=n(61),o=n(44);e.exports=Object.keys||function(e){return r(e,o)}},function(e,t,n){"use strict";var r=n(4),o=n(2),i=n(16),a=n(22);r({target:"Date",proto:!0,forced:o((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}))},{toJSON:function(e){var t=i(this),n=a(t);return"number"!=typeof n||isFinite(n)?t.toISOString():null}})},function(e,t,n){"use strict";n(4)({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}})},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n(112),n(46),n(100),n(64),n(65);var i=n(40),a=function(){"use strict";function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(r(this,e),null==t.exposed)throw"Must specify either true or false for config.exposed. ";if(t.amount<2||t.amount>4)throw"config.mount must be either 2, 3, or 4. ";this.type=t.type,this.value=t.value,this.amount=t.amount,this.exposed=t.exposed,this.getComponentTile=function(){return new i({type:this.type,value:this.value})},this.getPoints=function(e){var t=0;if(["bamboo","character","circle"].includes(this.type)){if(t=2,(1===this.value||9===this.value)&&(t*=2,2===this.amount))return 2;if(2===this.amount)return 0}else if(t=4,2===this.amount)return"wind"===this.type&&this.value!==e?0:2;return 4===this.amount&&(t*=4),this.exposed||(t*=2),t},this.isDouble=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!(2===this.amount&&!t)&&("dragon"===this.type||"wind"===this.type&&this.value===e)},Object.defineProperty(this,"tiles",{get:function(){var e=this;return new Array(this.amount).fill().map(function(){return e.getComponentTile()}.bind(this))}.bind(this)}),Object.defineProperty(this,"isPair",{get:function(){return 2===this.amount}}),Object.defineProperty(this,"isPongOrKong",{get:function(){return this.amount>=3}}),this.toJSON=function(){var e={class:"Match"};return e.type=this.type,e.value=this.value,e.amount=this.amount,e.exposed=this.exposed,JSON.stringify(e)}.bind(this),this.isSequence=!1}var t,n,a;return t=e,a=[{key:"isValidMatch",value:function(e){for(var t=0;t<e.length;t++)if(!e[0].matches(e[t]))return!1;return!0}},{key:"fromJSON",value:function(t){var n=JSON.parse(t);if("Match"!==n.class)throw"String was not created by Match.toJSON()";return new e(n)}}],(n=null)&&o(t.prototype,n),a&&o(t,a),e}();e.exports=a},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n(46),n(100),n(154),n(64),n(65);var i=n(40),a=function(){"use strict";function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(r(this,e),void 0===t.exposed)throw"config.exposed must not be undefined. ";if(this.isDouble=function(e){return!1},this.getPoints=function(){return 0},!t.tiles instanceof Array)throw"config.tiles must be an array of Tiles";if(!e.isValidSequence(t.tiles))throw"config.tiles is not a valid sequence. ";this.tiles=t.tiles,this.tiles=this.tiles.sort((function(e,t){return e.value-t.value})),this.exposed=t.exposed,this.isSequence=!0,this.isPongOrKong=!1,this.isPair=!1,this.toJSON=function(){var e={class:"Sequence"};return e.exposed=this.exposed,e.tiles=this.tiles,JSON.stringify(e)}.bind(this)}var t,n,a;return t=e,a=[{key:"isValidSequence",value:function(e){var t=e[0].type;if(!["bamboo","character","circle"].includes(t))return!1;e=e.sort((function(e,t){return e.value-t.value}));for(var n=1;n<e.length;n++){var r=e[n];if(r.type!==t)return!1;if(1!==Math.abs(e[n-1].value-r.value))return!1}return 3===e.length}},{key:"fromJSON",value:function(t){var n=JSON.parse(t);if("Sequence"!==n.class)throw"String was not created by Sequence.toJSON()";return n.tiles=n.tiles.map((function(e){return i.fromJSON(e)})),new e(n)}}],(n=null)&&o(t.prototype,n),a&&o(t,a),e}();e.exports=a},function(e,t,n){var r=n(3),o=n(85),i=n(21),a=n(9);e.exports=function(e,t){for(var n=o(t),s=a.f,c=i.f,u=0;u<n.length;u++){var l=n[u];r(e,l)||s(e,l,c(t,l))}}},function(e,t,n){var r=n(0);e.exports=r},function(e,t,n){"use strict";var r=n(22),o=n(9),i=n(17);e.exports=function(e,t,n){var a=r(t);a in e?o.f(e,a,i(0,n)):e[a]=n}},function(e,t,n){var r=n(45);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(e,t,n){var r=n(31),o=n(34),i=n(16),a=n(12),s=n(114),c=[].push,u=function(e){var t=1==e,n=2==e,u=3==e,l=4==e,f=6==e,d=5==e||f;return function(h,p,v,m){for(var g,y,w=i(h),b=o(w),x=r(p,v,3),E=a(b.length),S=0,T=m||s,O=t?T(h,E):n?T(h,0):void 0;E>S;S++)if((d||S in b)&&(y=x(g=b[S],S,w),e))if(t)O[S]=y;else if(y)switch(e){case 3:return!0;case 5:return g;case 6:return S;case 2:c.call(O,g)}else if(l)return!1;return f?-1:u||l?l:O}};e.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6)}},function(e,t,n){"use strict";var r=n(2);e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){throw 1},1)}))}},function(e,t,n){var r=n(1),o=n(47),i=n(9),a=r("unscopables"),s=Array.prototype;null==s[a]&&i.f(s,a,{configurable:!0,value:o(null)}),e.exports=function(e){s[a][e]=!0}},function(e,t,n){var r=n(14);e.exports=r("document","documentElement")},function(e,t,n){"use strict";n(33);var r,o=n(4),i=n(7),a=n(96),s=n(0),c=n(89),u=n(10),l=n(58),f=n(3),d=n(118),h=n(106),p=n(57).codeAt,v=n(119),m=n(25),g=n(120),y=n(15),w=s.URL,b=g.URLSearchParams,x=g.getState,E=y.set,S=y.getterFor("URL"),T=Math.floor,O=Math.pow,C=/[A-Za-z]/,L=/[\d+-.A-Za-z]/,P=/\d/,k=/^(0x|0X)/,M=/^[0-7]+$/,R=/^\d+$/,I=/^[\dA-Fa-f]+$/,N=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,A=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,j=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,F=/[\u0009\u000A\u000D]/g,H=function(e,t){var n,r,o;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return"Invalid host";if(!(n=U(t.slice(1,-1))))return"Invalid host";e.host=n}else if(Y(e)){if(t=v(t),N.test(t))return"Invalid host";if(null===(n=D(t)))return"Invalid host";e.host=n}else{if(A.test(t))return"Invalid host";for(n="",r=h(t),o=0;o<r.length;o++)n+=V(r[o],G);e.host=n}},D=function(e){var t,n,r,o,i,a,s,c=e.split(".");if(c.length&&""==c[c.length-1]&&c.pop(),(t=c.length)>4)return e;for(n=[],r=0;r<t;r++){if(""==(o=c[r]))return e;if(i=10,o.length>1&&"0"==o.charAt(0)&&(i=k.test(o)?16:8,o=o.slice(8==i?1:2)),""===o)a=0;else{if(!(10==i?R:8==i?M:I).test(o))return e;a=parseInt(o,i)}n.push(a)}for(r=0;r<t;r++)if(a=n[r],r==t-1){if(a>=O(256,5-t))return null}else if(a>255)return null;for(s=n.pop(),r=0;r<n.length;r++)s+=n[r]*O(256,3-r);return s},U=function(e){var t,n,r,o,i,a,s,c=[0,0,0,0,0,0,0,0],u=0,l=null,f=0,d=function(){return e.charAt(f)};if(":"==d()){if(":"!=e.charAt(1))return;f+=2,l=++u}for(;d();){if(8==u)return;if(":"!=d()){for(t=n=0;n<4&&I.test(d());)t=16*t+parseInt(d(),16),f++,n++;if("."==d()){if(0==n)return;if(f-=n,u>6)return;for(r=0;d();){if(o=null,r>0){if(!("."==d()&&r<4))return;f++}if(!P.test(d()))return;for(;P.test(d());){if(i=parseInt(d(),10),null===o)o=i;else{if(0==o)return;o=10*o+i}if(o>255)return;f++}c[u]=256*c[u]+o,2!=++r&&4!=r||u++}if(4!=r)return;break}if(":"==d()){if(f++,!d())return}else if(d())return;c[u++]=t}else{if(null!==l)return;f++,l=++u}}if(null!==l)for(a=u-l,u=7;0!=u&&a>0;)s=c[u],c[u--]=c[l+a-1],c[l+--a]=s;else if(8!=u)return;return c},_=function(e){var t,n,r,o;if("number"==typeof e){for(t=[],n=0;n<4;n++)t.unshift(e%256),e=T(e/256);return t.join(".")}if("object"==typeof e){for(t="",r=function(e){for(var t=null,n=1,r=null,o=0,i=0;i<8;i++)0!==e[i]?(o>n&&(t=r,n=o),r=null,o=0):(null===r&&(r=i),++o);return o>n&&(t=r,n=o),t}(e),n=0;n<8;n++)o&&0===e[n]||(o&&(o=!1),r===n?(t+=n?":":"::",o=!0):(t+=e[n].toString(16),n<7&&(t+=":")));return"["+t+"]"}return e},G={},J=d({},G,{" ":1,'"':1,"<":1,">":1,"`":1}),B=d({},J,{"#":1,"?":1,"{":1,"}":1}),q=d({},B,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),V=function(e,t){var n=p(e,0);return n>32&&n<127&&!f(t,e)?e:encodeURIComponent(e)},W={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Y=function(e){return f(W,e.scheme)},z=function(e){return""!=e.username||""!=e.password},X=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},K=function(e,t){var n;return 2==e.length&&C.test(e.charAt(0))&&(":"==(n=e.charAt(1))||!t&&"|"==n)},$=function(e){var t;return e.length>1&&K(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},Z=function(e){var t=e.path,n=t.length;!n||"file"==e.scheme&&1==n&&K(t[0],!0)||t.pop()},Q=function(e){return"."===e||"%2e"===e.toLowerCase()},ee={},te={},ne={},re={},oe={},ie={},ae={},se={},ce={},ue={},le={},fe={},de={},he={},pe={},ve={},me={},ge={},ye={},we={},be={},xe=function(e,t,n,o){var i,a,s,c,u,l=n||ee,d=0,p="",v=!1,m=!1,g=!1;for(n||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(j,"")),t=t.replace(F,""),i=h(t);d<=i.length;){switch(a=i[d],l){case ee:if(!a||!C.test(a)){if(n)return"Invalid scheme";l=ne;continue}p+=a.toLowerCase(),l=te;break;case te:if(a&&(L.test(a)||"+"==a||"-"==a||"."==a))p+=a.toLowerCase();else{if(":"!=a){if(n)return"Invalid scheme";p="",l=ne,d=0;continue}if(n&&(Y(e)!=f(W,p)||"file"==p&&(z(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=p,n)return void(Y(e)&&W[e.scheme]==e.port&&(e.port=null));p="","file"==e.scheme?l=he:Y(e)&&o&&o.scheme==e.scheme?l=re:Y(e)?l=se:"/"==i[d+1]?(l=oe,d++):(e.cannotBeABaseURL=!0,e.path.push(""),l=ye)}break;case ne:if(!o||o.cannotBeABaseURL&&"#"!=a)return"Invalid scheme";if(o.cannotBeABaseURL&&"#"==a){e.scheme=o.scheme,e.path=o.path.slice(),e.query=o.query,e.fragment="",e.cannotBeABaseURL=!0,l=be;break}l="file"==o.scheme?he:ie;continue;case re:if("/"!=a||"/"!=i[d+1]){l=ie;continue}l=ce,d++;break;case oe:if("/"==a){l=ue;break}l=ge;continue;case ie:if(e.scheme=o.scheme,a==r)e.username=o.username,e.password=o.password,e.host=o.host,e.port=o.port,e.path=o.path.slice(),e.query=o.query;else if("/"==a||"\\"==a&&Y(e))l=ae;else if("?"==a)e.username=o.username,e.password=o.password,e.host=o.host,e.port=o.port,e.path=o.path.slice(),e.query="",l=we;else{if("#"!=a){e.username=o.username,e.password=o.password,e.host=o.host,e.port=o.port,e.path=o.path.slice(),e.path.pop(),l=ge;continue}e.username=o.username,e.password=o.password,e.host=o.host,e.port=o.port,e.path=o.path.slice(),e.query=o.query,e.fragment="",l=be}break;case ae:if(!Y(e)||"/"!=a&&"\\"!=a){if("/"!=a){e.username=o.username,e.password=o.password,e.host=o.host,e.port=o.port,l=ge;continue}l=ue}else l=ce;break;case se:if(l=ce,"/"!=a||"/"!=p.charAt(d+1))continue;d++;break;case ce:if("/"!=a&&"\\"!=a){l=ue;continue}break;case ue:if("@"==a){v&&(p="%40"+p),v=!0,s=h(p);for(var y=0;y<s.length;y++){var w=s[y];if(":"!=w||g){var b=V(w,q);g?e.password+=b:e.username+=b}else g=!0}p=""}else if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&Y(e)){if(v&&""==p)return"Invalid authority";d-=h(p).length+1,p="",l=le}else p+=a;break;case le:case fe:if(n&&"file"==e.scheme){l=ve;continue}if(":"!=a||m){if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&Y(e)){if(Y(e)&&""==p)return"Invalid host";if(n&&""==p&&(z(e)||null!==e.port))return;if(c=H(e,p))return c;if(p="",l=me,n)return;continue}"["==a?m=!0:"]"==a&&(m=!1),p+=a}else{if(""==p)return"Invalid host";if(c=H(e,p))return c;if(p="",l=de,n==fe)return}break;case de:if(!P.test(a)){if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&Y(e)||n){if(""!=p){var x=parseInt(p,10);if(x>65535)return"Invalid port";e.port=Y(e)&&x===W[e.scheme]?null:x,p=""}if(n)return;l=me;continue}return"Invalid port"}p+=a;break;case he:if(e.scheme="file","/"==a||"\\"==a)l=pe;else{if(!o||"file"!=o.scheme){l=ge;continue}if(a==r)e.host=o.host,e.path=o.path.slice(),e.query=o.query;else if("?"==a)e.host=o.host,e.path=o.path.slice(),e.query="",l=we;else{if("#"!=a){$(i.slice(d).join(""))||(e.host=o.host,e.path=o.path.slice(),Z(e)),l=ge;continue}e.host=o.host,e.path=o.path.slice(),e.query=o.query,e.fragment="",l=be}}break;case pe:if("/"==a||"\\"==a){l=ve;break}o&&"file"==o.scheme&&!$(i.slice(d).join(""))&&(K(o.path[0],!0)?e.path.push(o.path[0]):e.host=o.host),l=ge;continue;case ve:if(a==r||"/"==a||"\\"==a||"?"==a||"#"==a){if(!n&&K(p))l=ge;else if(""==p){if(e.host="",n)return;l=me}else{if(c=H(e,p))return c;if("localhost"==e.host&&(e.host=""),n)return;p="",l=me}continue}p+=a;break;case me:if(Y(e)){if(l=ge,"/"!=a&&"\\"!=a)continue}else if(n||"?"!=a)if(n||"#"!=a){if(a!=r&&(l=ge,"/"!=a))continue}else e.fragment="",l=be;else e.query="",l=we;break;case ge:if(a==r||"/"==a||"\\"==a&&Y(e)||!n&&("?"==a||"#"==a)){if(".."===(u=(u=p).toLowerCase())||"%2e."===u||".%2e"===u||"%2e%2e"===u?(Z(e),"/"==a||"\\"==a&&Y(e)||e.path.push("")):Q(p)?"/"==a||"\\"==a&&Y(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&K(p)&&(e.host&&(e.host=""),p=p.charAt(0)+":"),e.path.push(p)),p="","file"==e.scheme&&(a==r||"?"==a||"#"==a))for(;e.path.length>1&&""===e.path[0];)e.path.shift();"?"==a?(e.query="",l=we):"#"==a&&(e.fragment="",l=be)}else p+=V(a,B);break;case ye:"?"==a?(e.query="",l=we):"#"==a?(e.fragment="",l=be):a!=r&&(e.path[0]+=V(a,G));break;case we:n||"#"!=a?a!=r&&("'"==a&&Y(e)?e.query+="%27":e.query+="#"==a?"%23":V(a,G)):(e.fragment="",l=be);break;case be:a!=r&&(e.fragment+=V(a,J))}d++}},Ee=function(e){var t,n,r=l(this,Ee,"URL"),o=arguments.length>1?arguments[1]:void 0,a=String(e),s=E(r,{type:"URL"});if(void 0!==o)if(o instanceof Ee)t=S(o);else if(n=xe(t={},String(o)))throw TypeError(n);if(n=xe(s,a,null,t))throw TypeError(n);var c=s.searchParams=new b,u=x(c);u.updateSearchParams(s.query),u.updateURL=function(){s.query=String(c)||null},i||(r.href=Te.call(r),r.origin=Oe.call(r),r.protocol=Ce.call(r),r.username=Le.call(r),r.password=Pe.call(r),r.host=ke.call(r),r.hostname=Me.call(r),r.port=Re.call(r),r.pathname=Ie.call(r),r.search=Ne.call(r),r.searchParams=Ae.call(r),r.hash=je.call(r))},Se=Ee.prototype,Te=function(){var e=S(this),t=e.scheme,n=e.username,r=e.password,o=e.host,i=e.port,a=e.path,s=e.query,c=e.fragment,u=t+":";return null!==o?(u+="//",z(e)&&(u+=n+(r?":"+r:"")+"@"),u+=_(o),null!==i&&(u+=":"+i)):"file"==t&&(u+="//"),u+=e.cannotBeABaseURL?a[0]:a.length?"/"+a.join("/"):"",null!==s&&(u+="?"+s),null!==c&&(u+="#"+c),u},Oe=function(){var e=S(this),t=e.scheme,n=e.port;if("blob"==t)try{return new URL(t.path[0]).origin}catch(e){return"null"}return"file"!=t&&Y(e)?t+"://"+_(e.host)+(null!==n?":"+n:""):"null"},Ce=function(){return S(this).scheme+":"},Le=function(){return S(this).username},Pe=function(){return S(this).password},ke=function(){var e=S(this),t=e.host,n=e.port;return null===t?"":null===n?_(t):_(t)+":"+n},Me=function(){var e=S(this).host;return null===e?"":_(e)},Re=function(){var e=S(this).port;return null===e?"":String(e)},Ie=function(){var e=S(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},Ne=function(){var e=S(this).query;return e?"?"+e:""},Ae=function(){return S(this).searchParams},je=function(){var e=S(this).fragment;return e?"#"+e:""},Fe=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(i&&c(Se,{href:Fe(Te,(function(e){var t=S(this),n=String(e),r=xe(t,n);if(r)throw TypeError(r);x(t.searchParams).updateSearchParams(t.query)})),origin:Fe(Oe),protocol:Fe(Ce,(function(e){var t=S(this);xe(t,String(e)+":",ee)})),username:Fe(Le,(function(e){var t=S(this),n=h(String(e));if(!X(t)){t.username="";for(var r=0;r<n.length;r++)t.username+=V(n[r],q)}})),password:Fe(Pe,(function(e){var t=S(this),n=h(String(e));if(!X(t)){t.password="";for(var r=0;r<n.length;r++)t.password+=V(n[r],q)}})),host:Fe(ke,(function(e){var t=S(this);t.cannotBeABaseURL||xe(t,String(e),le)})),hostname:Fe(Me,(function(e){var t=S(this);t.cannotBeABaseURL||xe(t,String(e),fe)})),port:Fe(Re,(function(e){var t=S(this);X(t)||(""==(e=String(e))?t.port=null:xe(t,e,de))})),pathname:Fe(Ie,(function(e){var t=S(this);t.cannotBeABaseURL||(t.path=[],xe(t,e+"",me))})),search:Fe(Ne,(function(e){var t=S(this);""==(e=String(e))?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",xe(t,e,we)),x(t.searchParams).updateSearchParams(t.query)})),searchParams:Fe(Ae),hash:Fe(je,(function(e){var t=S(this);""!=(e=String(e))?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",xe(t,e,be)):t.fragment=null}))}),u(Se,"toJSON",(function(){return Te.call(this)}),{enumerable:!0}),u(Se,"toString",(function(){return Te.call(this)}),{enumerable:!0}),w){var He=w.createObjectURL,De=w.revokeObjectURL;He&&u(Ee,"createObjectURL",(function(e){return He.apply(w,arguments)})),De&&u(Ee,"revokeObjectURL",(function(e){return De.apply(w,arguments)}))}m(Ee,"URL"),o({global:!0,forced:!a,sham:!i},{URL:Ee})},function(e,t,n){var r=n(5);e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(t){var i=e.return;throw void 0!==i&&r(i.call(e)),t}}},function(e,t,n){var r=n(1),o=n(20),i=r("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(o.Array===e||a[i]===e)}},function(e,t,n){var r=n(10);e.exports=function(e,t,n){for(var o in t)r(e,o,t[o],n);return e}},function(e,t,n){"use strict";var r=n(4),o=n(6),i=n(102),a=n(54),s=n(12),c=n(13),u=n(70),l=n(1),f=n(86),d=n(37),h=f("slice"),p=d("slice",{ACCESSORS:!0,0:0,1:2}),v=l("species"),m=[].slice,g=Math.max;r({target:"Array",proto:!0,forced:!h||!p},{slice:function(e,t){var n,r,l,f=c(this),d=s(f.length),h=a(e,d),p=a(void 0===t?d:t,d);if(i(f)&&("function"!=typeof(n=f.constructor)||n!==Array&&!i(n.prototype)?o(n)&&null===(n=n[v])&&(n=void 0):n=void 0,n===Array||void 0===n))return m.call(f,h,p);for(r=new(void 0===n?Array:n)(g(p-h,0)),l=0;h<p;h++,l++)h in f&&u(r,l,f[h]);return r.length=l,r}})},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n(46),n(64),n(65);var i=function(){"use strict";function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(r(this,e),!["season","flower"].includes(t.seasonOrFlower))throw"config.seasorOrFlower must either be 'season' or 'flower'";this.type="pretty",this.value=t.value,this.seasonOrFlower=t.seasonOrFlower,this.exposed=!0,this.tileName="Pretty";var n=["east","south","west","north"];this.isDouble=function(e){return e===n[this.value-1]},this.getPoints=function(){return 4},this.imageUrl="assets/tiles/"+t.seasonOrFlower+"s/"+t.value+".png",this.toJSON=function(){var e={class:"Pretty"};return e.value=this.value,e.seasonOrFlower=this.seasonOrFlower,JSON.stringify(e)}.bind(this),this.isSequence=!1,this.isPongOrKong=!1,this.isPair=!1}var t,n,i;return t=e,i=[{key:"fromJSON",value:function(t){var n=JSON.parse(t);if("Pretty"!==n.class)throw"String was not created by Pretty.toJSON()";return new e(n)}}],(n=null)&&o(t.prototype,n),i&&o(t,i),e}();e.exports=i},function(e,t,n){"use strict";var r=n(4),o=n(59);r({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(0),o=n(35),i=r.WeakMap;e.exports="function"==typeof i&&/native code/.test(o(i))},function(e,t,n){var r=n(14),o=n(53),i=n(55),a=n(5);e.exports=r("Reflect","ownKeys")||function(e){var t=o.f(a(e)),n=i.f;return n?t.concat(n(e)):t}},function(e,t,n){var r=n(2),o=n(1),i=n(87),a=o("species");e.exports=function(e){return i>=51||!r((function(){var t=[];return(t.constructor={})[a]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},function(e,t,n){var r,o,i=n(0),a=n(88),s=i.process,c=s&&s.versions,u=c&&c.v8;u?o=(r=u.split("."))[0]+r[1]:a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(o=r[1]),e.exports=o&&+o},function(e,t,n){var r=n(14);e.exports=r("navigator","userAgent")||""},function(e,t,n){var r=n(7),o=n(9),i=n(5),a=n(63);e.exports=r?Object.defineProperties:function(e,t){i(e);for(var n,r=a(t),s=r.length,c=0;s>c;)o.f(e,n=r[c++],t[n]);return e}},function(e,t,n){"use strict";var r=n(4),o=n(62).indexOf,i=n(73),a=n(37),s=[].indexOf,c=!!s&&1/[1].indexOf(1,-0)<0,u=i("indexOf"),l=a("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:c||!u||!l},{indexOf:function(e){return c?s.apply(this,arguments)||0:o(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var r=n(4),o=n(92),i=n(94),a=n(103),s=n(25),c=n(8),u=n(10),l=n(1),f=n(19),d=n(20),h=n(93),p=h.IteratorPrototype,v=h.BUGGY_SAFARI_ITERATORS,m=l("iterator"),g=function(){return this};e.exports=function(e,t,n,l,h,y,w){o(n,t,l);var b,x,E,S=function(e){if(e===h&&P)return P;if(!v&&e in C)return C[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}},T=t+" Iterator",O=!1,C=e.prototype,L=C[m]||C["@@iterator"]||h&&C[h],P=!v&&L||S(h),k="Array"==t&&C.entries||L;if(k&&(b=i(k.call(new e)),p!==Object.prototype&&b.next&&(f||i(b)===p||(a?a(b,p):"function"!=typeof b[m]&&c(b,m,g)),s(b,T,!0,!0),f&&(d[T]=g))),"values"==h&&L&&"values"!==L.name&&(O=!0,P=function(){return L.call(this)}),f&&!w||C[m]===P||c(C,m,P),d[t]=P,h)if(x={values:S("values"),keys:y?P:S("keys"),entries:S("entries")},w)for(E in x)(v||O||!(E in C))&&u(C,E,x[E]);else r({target:t,proto:!0,forced:v||O},x);return x}},function(e,t,n){"use strict";var r=n(93).IteratorPrototype,o=n(47),i=n(17),a=n(25),s=n(20),c=function(){return this};e.exports=function(e,t,n){var u=t+" Iterator";return e.prototype=o(r,{next:i(1,n)}),a(e,u,!1,!0),s[u]=c,e}},function(e,t,n){"use strict";var r,o,i,a=n(94),s=n(8),c=n(3),u=n(1),l=n(19),f=u("iterator"),d=!1;[].keys&&("next"in(i=[].keys())?(o=a(a(i)))!==Object.prototype&&(r=o):d=!0),null==r&&(r={}),l||c(r,f)||s(r,f,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:d}},function(e,t,n){var r=n(3),o=n(16),i=n(36),a=n(115),s=i("IE_PROTO"),c=Object.prototype;e.exports=a?Object.getPrototypeOf:function(e){return e=o(e),r(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?c:null}},function(e,t,n){"use strict";var r=n(32),o=n(38);e.exports=r?{}.toString:function(){return"[object "+o(this)+"]"}},function(e,t,n){var r=n(2),o=n(1),i=n(19),a=o("iterator");e.exports=!r((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,r){t.delete("b"),n+=r+e})),i&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},function(e,t,n){var r,o,i,a=n(0),s=n(2),c=n(11),u=n(31),l=n(75),f=n(41),d=n(98),h=a.location,p=a.setImmediate,v=a.clearImmediate,m=a.process,g=a.MessageChannel,y=a.Dispatch,w=0,b={},x=function(e){if(b.hasOwnProperty(e)){var t=b[e];delete b[e],t()}},E=function(e){return function(){x(e)}},S=function(e){x(e.data)},T=function(e){a.postMessage(e+"",h.protocol+"//"+h.host)};p&&v||(p=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return b[++w]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},r(w),w},v=function(e){delete b[e]},"process"==c(m)?r=function(e){m.nextTick(E(e))}:y&&y.now?r=function(e){y.now(E(e))}:g&&!d?(i=(o=new g).port2,o.port1.onmessage=S,r=u(i.postMessage,i,1)):!a.addEventListener||"function"!=typeof postMessage||a.importScripts||s(T)||"file:"===h.protocol?r="onreadystatechange"in f("script")?function(e){l.appendChild(f("script")).onreadystatechange=function(){l.removeChild(this),x(e)}}:function(e){setTimeout(E(e),0)}:(r=T,a.addEventListener("message",S,!1))),e.exports={set:p,clear:v}},function(e,t,n){var r=n(88);e.exports=/(iphone|ipod|ipad).*applewebkit/i.test(r)},function(e,t,n){"use strict";var r=n(23),o=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new o(e)}},function(e,t,n){"use strict";var r=n(4),o=n(72).map,i=n(86),a=n(37),s=i("map"),c=a("map");r({target:"Array",proto:!0,forced:!s||!c},{map:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n(60),n(30),n(100),n(64),n(82),n(155),n(49),n(65);var o=n(40),i=n(81),a=function(){"use strict";function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.drawFirst=function(){return this.tiles.pop()},this.drawLast=function(){return this.tiles.shift()},t?this.tiles=t:(this.tiles=[],this.tiles=this.tiles.concat(e.getNonPrettyTiles()),[!1,!0].forEach((function(e){for(var t=1;t<=4;t++)n.tiles.push(new i({value:t,seasonOrFlower:e?"season":"flower"}))})),e.shuffleArray(this.tiles)),this.toJSON=function(){return JSON.stringify(this.tiles)}.bind(this)}var t,n,a;return t=e,a=[{key:"getNonPrettyTiles",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4,t=[],n=function(n){for(var r=0;r<e;r++)["bamboo","character","circle"].forEach((function(e){t.push(new o({type:e,value:n}))}))},r=1;r<=9;r++)n(r);return["red","green","white"].forEach((function(n){for(var r=0;r<e;r++)t.push(new o({type:"dragon",value:n}))})),["north","south","east","west"].forEach((function(n){for(var r=0;r<e;r++)t.push(new o({type:"wind",value:n}))})),t}},{key:"shuffleArray",value:function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),r=[e[n],e[t]];e[t]=r[0],e[n]=r[1]}}},{key:"renderWall",value:function(e,t){for(;e.firstChild;)e.firstChild.remove();for(var n=0;n<t.length;n++){var r=t[n],o=document.createElement("img");o.src=r.imageUrl,o.title=r.tileName,e.appendChild(o)}0!==t.length&&String(t.length).split("").forEach((function(t){var n=document.createElement("p");n.innerHTML=t,e.appendChild(n)}))}},{key:"fromJSON",value:function(t){var n=JSON.parse(t);return new e(n=n.map((function(e){var t=JSON.parse(e);if("Pretty"===t.class)return i.fromJSON(e);if("Tile"===t.class)return o.fromJSON(e);throw"Unable to identify tileString "+e})))}}],(n=null)&&r(t.prototype,n),a&&r(t,a),e}();e.exports=a},function(e,t,n){var r=n(11);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(5),o=n(116);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,i){return r(n),o(i),t?e.call(n,i):n.__proto__=i,n}}():void 0)},function(e,t,n){"use strict";var r=n(5);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t,n){"use strict";var r=n(31),o=n(16),i=n(77),a=n(78),s=n(12),c=n(70),u=n(39);e.exports=function(e){var t,n,l,f,d,h,p=o(e),v="function"==typeof this?this:Array,m=arguments.length,g=m>1?arguments[1]:void 0,y=void 0!==g,w=u(p),b=0;if(y&&(g=r(g,m>2?arguments[2]:void 0,2)),null==w||v==Array&&a(w))for(n=new v(t=s(p.length));t>b;b++)h=y?g(p[b],b):p[b],c(n,b,h);else for(d=(f=w.call(p)).next,n=new v;!(l=d.call(f)).done;b++)h=y?i(f,g,[l.value,b],!0):l.value,c(n,b,h);return n.length=b,n}},function(e,t,n){n(24),n(27),n(33),n(48),n(76);try{if(window.Capacitor){var r=function(e){console.log("Current URL: "+window.location.href);var t=new URL(e);t.hash===window.location.hash&&t.pathname===window.location.pathname?console.log("Same URLs. Skipping"):t.pathname===window.location.pathname?(console.log("Same pathname. Setting and reloading. "),window.location.hash=t.hash,window.location.reload()):(console.log("Different pathname. Setting"),window.location.hash=t.hash,window.location.pathname=t.pathname)};Capacitor.Plugins.App.addListener("appUrlOpen",(function(e){console.log("App opened with URL: "+e.url),r(e.url)})),Capacitor.Plugins.App.getLaunchUrl().then((function(e){e&&e.url&&(console.log("Launch url: ",e.url),r(e.url))}))}}catch(e){console.error(e)}},function(e,t,n){"use strict";var r,o,i,a,s=n(4),c=n(19),u=n(0),l=n(14),f=n(123),d=n(10),h=n(79),p=n(25),v=n(124),m=n(6),g=n(23),y=n(58),w=n(11),b=n(35),x=n(125),E=n(109),S=n(110),T=n(97).set,O=n(126),C=n(127),L=n(128),P=n(99),k=n(129),M=n(15),R=n(56),I=n(1),N=n(87),A=I("species"),j="Promise",F=M.get,H=M.set,D=M.getterFor(j),U=f,_=u.TypeError,G=u.document,J=u.process,B=l("fetch"),q=P.f,V=q,W="process"==w(J),Y=!!(G&&G.createEvent&&u.dispatchEvent),z=R(j,(function(){if(!(b(U)!==String(U))){if(66===N)return!0;if(!W&&"function"!=typeof PromiseRejectionEvent)return!0}if(c&&!U.prototype.finally)return!0;if(N>=51&&/native code/.test(U))return!1;var e=U.resolve(1),t=function(e){e((function(){}),(function(){}))};return(e.constructor={})[A]=t,!(e.then((function(){}))instanceof t)})),X=z||!E((function(e){U.all(e).catch((function(){}))})),K=function(e){var t;return!(!m(e)||"function"!=typeof(t=e.then))&&t},$=function(e,t,n){if(!t.notified){t.notified=!0;var r=t.reactions;O((function(){for(var o=t.value,i=1==t.state,a=0;r.length>a;){var s,c,u,l=r[a++],f=i?l.ok:l.fail,d=l.resolve,h=l.reject,p=l.domain;try{f?(i||(2===t.rejection&&te(e,t),t.rejection=1),!0===f?s=o:(p&&p.enter(),s=f(o),p&&(p.exit(),u=!0)),s===l.promise?h(_("Promise-chain cycle")):(c=K(s))?c.call(s,d,h):d(s)):h(o)}catch(e){p&&!u&&p.exit(),h(e)}}t.reactions=[],t.notified=!1,n&&!t.rejection&&Q(e,t)}))}},Z=function(e,t,n){var r,o;Y?((r=G.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),u.dispatchEvent(r)):r={promise:t,reason:n},(o=u["on"+e])?o(r):"unhandledrejection"===e&&L("Unhandled promise rejection",n)},Q=function(e,t){T.call(u,(function(){var n,r=t.value;if(ee(t)&&(n=k((function(){W?J.emit("unhandledRejection",r,e):Z("unhandledrejection",e,r)})),t.rejection=W||ee(t)?2:1,n.error))throw n.value}))},ee=function(e){return 1!==e.rejection&&!e.parent},te=function(e,t){T.call(u,(function(){W?J.emit("rejectionHandled",e):Z("rejectionhandled",e,t.value)}))},ne=function(e,t,n,r){return function(o){e(t,n,o,r)}},re=function(e,t,n,r){t.done||(t.done=!0,r&&(t=r),t.value=n,t.state=2,$(e,t,!0))},oe=function(e,t,n,r){if(!t.done){t.done=!0,r&&(t=r);try{if(e===n)throw _("Promise can't be resolved itself");var o=K(n);o?O((function(){var r={done:!1};try{o.call(n,ne(oe,e,r,t),ne(re,e,r,t))}catch(n){re(e,r,n,t)}})):(t.value=n,t.state=1,$(e,t,!1))}catch(n){re(e,{done:!1},n,t)}}};z&&(U=function(e){y(this,U,j),g(e),r.call(this);var t=F(this);try{e(ne(oe,this,t),ne(re,this,t))}catch(e){re(this,t,e)}},(r=function(e){H(this,{type:j,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=h(U.prototype,{then:function(e,t){var n=D(this),r=q(S(this,U));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=W?J.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&$(this,n,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new r,t=F(e);this.promise=e,this.resolve=ne(oe,e,t),this.reject=ne(re,e,t)},P.f=q=function(e){return e===U||e===i?new o(e):V(e)},c||"function"!=typeof f||(a=f.prototype.then,d(f.prototype,"then",(function(e,t){var n=this;return new U((function(e,t){a.call(n,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof B&&s({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return C(U,B.apply(u,arguments))}}))),s({global:!0,wrap:!0,forced:z},{Promise:U}),p(U,j,!1,!0),v(j),i=l(j),s({target:j,stat:!0,forced:z},{reject:function(e){var t=q(this);return t.reject.call(void 0,e),t.promise}}),s({target:j,stat:!0,forced:c||z},{resolve:function(e){return C(c&&this===i?U:this,e)}}),s({target:j,stat:!0,forced:X},{all:function(e){var t=this,n=q(t),r=n.resolve,o=n.reject,i=k((function(){var n=g(t.resolve),i=[],a=0,s=1;x(e,(function(e){var c=a++,u=!1;i.push(void 0),s++,n.call(t,e).then((function(e){u||(u=!0,i[c]=e,--s||r(i))}),o)})),--s||r(i)}));return i.error&&o(i.value),n.promise},race:function(e){var t=this,n=q(t),r=n.reject,o=k((function(){var o=g(t.resolve);x(e,(function(e){o.call(t,e).then(n.resolve,r)}))}));return o.error&&r(o.value),n.promise}})},function(e,t,n){var r=n(1)("iterator"),o=!1;try{var i=0,a={next:function(){return{done:!!i++}},return:function(){o=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var i={};i[r]=function(){return{next:function(){return{done:n=!0}}}},e(i)}catch(e){}return n}},function(e,t,n){var r=n(5),o=n(23),i=n(1)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||null==(n=r(a)[i])?t:o(n)}},function(e,t,n){var r=function(e){"use strict";var t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var o=t&&t.prototype instanceof f?t:f,i=Object.create(o.prototype),a=new S(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return O()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=b(a,n);if(s){if(s===l)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===l)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(e,n,a),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var l={};function f(){}function d(){}function h(){}var p={};p[o]=function(){return this};var v=Object.getPrototypeOf,m=v&&v(v(T([])));m&&m!==t&&n.call(m,o)&&(p=m);var g=h.prototype=f.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){var r;this._invoke=function(o,i){function a(){return new t((function(r,a){!function r(o,i,a,s){var c=u(e[o],e,i);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(f).then((function(e){l.value=e,a(l)}),(function(e){return r("throw",e,a,s)}))}s(c.arg)}(o,i,r,a)}))}return r=r?r.then(a,a):a()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function T(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:O}}function O(){return{value:void 0,done:!0}}return d.prototype=g.constructor=h,h.constructor=d,d.displayName=s(h,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,s(e,a,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(w.prototype),w.prototype[i]=function(){return this},e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(c(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},y(g),s(g,a,"Generator"),g[o]=function(){return this},g.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=T,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}(e.exports);try{regeneratorRuntime=r}catch(e){Function("r","regeneratorRuntime = r")(r)}},function(e,t,n){var r=n(4),o=n(169),i=n(74);r({target:"Array",proto:!0},{fill:o}),i("fill")},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n(60),n(112),n(133),n(171),n(30),n(46),n(90),n(100),n(134),n(154),n(148),n(64),n(49),n(65);var i=n(40),a=n(66),s=n(67),c=n(81),u=(n(101),function(){"use strict";function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};function o(e){e.preventDefault()}function u(e){var t="randomClassForTransfer"+Math.pow(2,53)*Math.random();e.target.classList.add(t),e.dataTransfer.setData("randomClass",t)}r(this,e),this.handToRender=t.handToRender,this.handForExposed=t.handForExposed,this.tilePlacemat=t.tilePlacemat,this.interactive=t.interactive||!1,this.wind=t.wind,this.contents=[],this.inPlacemat=[],this.syncContents=n(156).bind(this),this.score=n(157).bind(this),this.getClearHandDoubles=n(158).bind(this),this.isMahjong=n(160).bind(this),this.isCalling=n(162).bind(this),this.add=function(t){var n;n=t instanceof s?e.getTileValue(t.tiles[0]):e.getTileValue(t);for(var r=0;r<this.contents.length;r++){var o=this.contents[r];if(o instanceof s&&(o=o.tiles[2]),n<e.getTileValue(o))return void this.contents.splice(r,0,t)}this.contents.push(t)}.bind(this),this.remove=function(e){var t=this.contents.indexOf(e),n=this.inPlacemat.indexOf(e);if(-1!==t)this.contents.splice(t,1);else{if(-1===n)throw e+" does not exist in hand. ";this.inPlacemat.splice(n,1)}}.bind(this),this.moveTile=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=this.inPlacemat.indexOf(e),o=this.contents.indexOf(e);if(console.log(n),r+o!==-2){this.inPlacemat,this.contents;if(t)if(-1===r){if(this.inPlacemat.length>=4)return void alert("Placemat is already full. ");this.inPlacemat.push(this.contents.splice(o,1)[0])}else{if(0===r&&this.inPlacemat[0].evicting)return void alert("This tile was discarded. To claim it, select the tiles you would like to match with it, then hit proceed. ");var i=this.inPlacemat.splice(r,1)[0];isNaN(n)?this.add(i):this.contents.splice(n,0,i)}else if(isNaN(n))console.error("Unable to determine how this tile should be moved. ");else if(-1===o)console.error("Reordering in placemat is not supported. Must be in hand.");else{console.log(o),console.log(n);n>o&&n--,console.log(n),this.contents.splice(n,0,this.contents.splice(o,1)[0])}this.renderTiles(),this.renderPlacemat()}else console.error("Tile does not exist. ")}.bind(this),this.removeMatchingTile=function(e){var t=this;if(!e instanceof i)throw"removeMatchingTile only supports Tiles";return this.inPlacemat.length>0&&console.warn("Hand.removeMatchingTile is intended for server side use only. "),!!this.contents.some(function(n,r){return!!e.matches(n)&&(t.contents.splice(r,1),!0)}.bind(this))},this.getExposedTiles=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=[];return this.contents.forEach((function(n){n.exposed||n instanceof a&&4===n.amount?t.push(n):e&&t.push(new i({faceDown:!0}))})),t}.bind(this);var l=function(e){e.preventDefault();var t=e.dataTransfer.getData("randomClass"),n=document.getElementsByClassName(t)[0];n.classList.remove(t);for(var r=2,o=0;o<this.handToRender.children.length;o++){var i=this.handToRender.children[o].getBoundingClientRect();if(r++,e.x<i.left+i.width/2){r--;break}}void 0!==n.placematIndex?this.moveTile(this.inPlacemat[n.placematIndex],!0,r):this.moveTile(this.contents[n.tileIndex],!1,r)}.bind(this),f=function(e){e.preventDefault();var t=e.dataTransfer.getData("randomClass"),n=document.getElementsByClassName(t)[0];n.classList.remove(t),this.moveTile(this.contents[n.tileIndex])}.bind(this);this.interactive&&(this.handToRender.addEventListener("dragover",o),this.handToRender.addEventListener("dragenter",o),this.handToRender.addEventListener("drop",l),this.tilePlacemat&&(this.tilePlacemat.addEventListener("dragover",o),this.tilePlacemat.addEventListener("dragenter",o),this.tilePlacemat.addEventListener("drop",f),this.tilePlacemat.addEventListener("dragover",(function(){this.style.backgroundColor="lightblue"})),this.tilePlacemat.addEventListener("dragleave",(function(){this.style.backgroundColor=""})),this.tilePlacemat.addEventListener("drop",(function(){this.style.backgroundColor=""})))),this.removeMatchingTilesFromHand=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e instanceof i)throw"You must send a tile. ";return this.removeTilesFromHand(new Array(t).fill(e),n)}.bind(this),this.removeTilesFromHand=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e instanceof s&&(e=e.tiles),e instanceof i)e=[e];else if(!e instanceof Array)throw"Must send a Sequence, Tile, or Array. ";var r=[];e.forEach((function(e,n){if(!(e instanceof i))throw"Your Sequence or Array contains non-tiles. ";for(var o=t.contents.length-1;o>=0;o--)if(e.matches(t.contents[o])&&!r.includes(o))return void(r[n]=o)}));for(var o=!0,a=0;a<e.length;a++)void 0===r[a]&&(o=!1);return!!o&&(n||r.sort((function(e,t){return t-e})).forEach((function(e){t.contents.splice(e,1)})),!0)}.bind(this),this.renderPlacemat=function(e){for(var t=this;this.tilePlacemat.firstChild;)this.tilePlacemat.firstChild.remove();for(var n=function(n){var r=t.inPlacemat[n],o=document.createElement("img");0===n&&e&&(o.className=e),r?(o.src=r.imageUrl,o.title=r.tileName,o.draggable=!0,o.placematIndex=n,o.addEventListener("dragstart",u),o.addEventListener("click",function(){this.moveTile(r)}.bind(t))):o.src="assets/tiles/tile-outline.png",t.tilePlacemat.appendChild(o)},r=0;r<4;r++)n(r)}.bind(this),this.setEvictingThrownTile=function(e){for(var t=this.inPlacemat.length-1;t>=0;t--){this.inPlacemat[t].evicting&&this.inPlacemat.splice(t,1)}e&&(this.inPlacemat.length>=4&&this.contents.push(this.inPlacemat.pop()),this.inPlacemat.unshift(e),e.evicting=!0)}.bind(this),this.renderTiles=function(){if(!this.handToRender)throw"Unable to render hand. You must pass config.handToRender to the constructor. ";for(;this.handToRender.firstChild;)this.handToRender.firstChild.remove();if(this.handForExposed)for(;this.handForExposed.firstChild;)this.handForExposed.firstChild.remove();for(var e=[],t=[],n=0;n<this.contents.length;n++){var r=this.contents[n];if(r instanceof i)e.push(r);else if(r instanceof c)t.push(r);else if(r instanceof a||r instanceof s){var o=r.tiles;r instanceof a&&4===r.amount&&(o[0].faceDown=!0,o[0]=i.fromJSON(o[0].toJSON())),r.exposed?t=t.concat(o):r instanceof a&&4===r.amount?(o[3].faceDown=!0,o[3]=i.fromJSON(o[3].toJSON()),t=t.concat(o)):(console.log(o),e=e.concat(o))}else console.error("Unknown item "+r)}var l=function(e,t){for(var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=function(o){var i=e[o],a=document.createElement("img");a.src=i.imageUrl,a.title=i.tileName,"exposed"===t&&n.handForExposed?n.handForExposed.appendChild(a):"exposed"===t?(r&&(a.style.filter="brightness(1.2)"),n.handToRender.appendChild(a)):"unexposed"===t&&(!n.handForExposed&&r&&(a.style.filter="brightness(0.8)"),n.interactive&&(a.draggable=!0,a.addEventListener("click",function(){this.moveTile(i)}.bind(n)),a.addEventListener("dragstart",u),a.tileIndex=n.contents.findIndex((function(e){return e===i}))),n.handToRender.appendChild(a))},i=0;i<e.length;i++)o(i);function a(e){if(e.children.length>14){var t=parseFloat(document.documentElement.style.getPropertyValue("--vh"));t/=e.children.length/14;var n=parseFloat(document.documentElement.style.getPropertyValue("--vw"));n/=e.children.length/14,e.children.forEach((function(e){e.style.setProperty("--vh",t+"px"),e.style.setProperty("--vw",n+"px")}))}}a(this.handToRender),this.handForExposed&&a(this.handForExposed)}.bind(this);console.log(t),console.log(e);var f=!1;(e.some((function(e){return!e.faceDown}))||0===e.length)&&(f=!0),l(t,"exposed",f),l(e,"unexposed",f),this.tilePlacemat&&this.renderPlacemat()}.bind(this),this.getStringContents=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"contents";return this[e].map((function(e){return e.toJSON()}))}.bind(this),this.toJSON=function(){return JSON.stringify({wind:this.wind,contents:this.contents})}.bind(this)}var t,u,l;return t=e,l=[{key:"getTileValue",value:function(e){var t=0;return t+=100*["pretty","circle","bamboo","character","wind","dragon"].findIndex((function(t){return e.type===t})),"number"==typeof e.value?t+=e.value:"wind"===e.type?t+=10*["north","east","south","west"].findIndex((function(t){return e.value===t})):"dragon"===e.type?t+=10*["red","green","white"].findIndex((function(t){return e.value===t})):e.faceDown||console.error("Couldn't fully calculate value for "+e),t}},{key:"sortTiles",value:function(t){return t.sort((function(t,n){return e.getTileValue(t)-e.getTileValue(n)}))}},{key:"convertStringsToTiles",value:function(e){return e.map((function(e){var t=JSON.parse(e);if("Pretty"===t.class)return c.fromJSON(e);if("Tile"===t.class)return i.fromJSON(e);if("Sequence"===t.class)return s.fromJSON(e);if("Match"===t.class)return a.fromJSON(e);throw"Unable to identify itemString "+e}))}},{key:"fromString",value:function(t){var n=JSON.parse(t),r=(n.wind,new e({wind:n.wind}));return r.contents=e.convertStringsToTiles(n.contents),r}}],(u=null)&&o(t.prototype,u),l&&o(t,l),e}());e.exports=u},function(e,t,n){var r=n(6),o=n(102),i=n(1)("species");e.exports=function(e,t){var n;return o(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!o(n.prototype)?r(n)&&null===(n=n[i])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},function(e,t,n){var r=n(2);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},function(e,t,n){var r=n(6);e.exports=function(e){if(!r(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},function(e,t,n){"use strict";var r=n(4),o=n(144),i=n(18);r({target:"String",proto:!0,forced:!n(146)("includes")},{includes:function(e){return!!~String(i(this)).indexOf(o(e),arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var r=n(7),o=n(2),i=n(63),a=n(55),s=n(50),c=n(16),u=n(34),l=Object.assign,f=Object.defineProperty;e.exports=!l||o((function(){if(r&&1!==l({b:1},l(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol();return e[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(e){t[e]=e})),7!=l({},e)[n]||"abcdefghijklmnopqrst"!=i(l({},t)).join("")}))?function(e,t){for(var n=c(e),o=arguments.length,l=1,f=a.f,d=s.f;o>l;)for(var h,p=u(arguments[l++]),v=f?i(p).concat(f(p)):i(p),m=v.length,g=0;m>g;)h=v[g++],r&&!d.call(p,h)||(n[h]=p[h]);return n}:l},function(e,t,n){"use strict";var r=/[^\0-\u007E]/,o=/[.\u3002\uFF0E\uFF61]/g,i="Overflow: input needs wider integers to process",a=Math.floor,s=String.fromCharCode,c=function(e){return e+22+75*(e<26)},u=function(e,t,n){var r=0;for(e=n?a(e/700):e>>1,e+=a(e/t);e>455;r+=36)e=a(e/35);return a(r+36*e/(e+38))},l=function(e){var t,n,r=[],o=(e=function(e){for(var t=[],n=0,r=e.length;n<r;){var o=e.charCodeAt(n++);if(o>=55296&&o<=56319&&n<r){var i=e.charCodeAt(n++);56320==(64512&i)?t.push(((1023&o)<<10)+(1023&i)+65536):(t.push(o),n--)}else t.push(o)}return t}(e)).length,l=128,f=0,d=72;for(t=0;t<e.length;t++)(n=e[t])<128&&r.push(s(n));var h=r.length,p=h;for(h&&r.push("-");p<o;){var v=2147483647;for(t=0;t<e.length;t++)(n=e[t])>=l&&n<v&&(v=n);var m=p+1;if(v-l>a((2147483647-f)/m))throw RangeError(i);for(f+=(v-l)*m,l=v,t=0;t<e.length;t++){if((n=e[t])<l&&++f>2147483647)throw RangeError(i);if(n==l){for(var g=f,y=36;;y+=36){var w=y<=d?1:y>=d+26?26:y-d;if(g<w)break;var b=g-w,x=36-w;r.push(s(c(w+b%x))),g=a(b/x)}r.push(s(c(g))),d=u(f,m,p==h),f=0,++p}}++f,++l}return r.join("")};e.exports=function(e){var t,n,i=[],a=e.toLowerCase().replace(o,".").split(".");for(t=0;t<a.length;t++)n=a[t],i.push(r.test(n)?"xn--"+l(n):n);return i.join(".")}},function(e,t,n){"use strict";n(24);var r=n(4),o=n(14),i=n(96),a=n(10),s=n(79),c=n(25),u=n(92),l=n(15),f=n(58),d=n(3),h=n(31),p=n(38),v=n(5),m=n(6),g=n(47),y=n(17),w=n(121),b=n(39),x=n(1),E=o("fetch"),S=o("Headers"),T=x("iterator"),O=l.set,C=l.getterFor("URLSearchParams"),L=l.getterFor("URLSearchParamsIterator"),P=/\+/g,k=Array(4),M=function(e){return k[e-1]||(k[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},R=function(e){try{return decodeURIComponent(e)}catch(t){return e}},I=function(e){var t=e.replace(P," "),n=4;try{return decodeURIComponent(t)}catch(e){for(;n;)t=t.replace(M(n--),R);return t}},N=/[!'()~]|%20/g,A={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},j=function(e){return A[e]},F=function(e){return encodeURIComponent(e).replace(N,j)},H=function(e,t){if(t)for(var n,r,o=t.split("&"),i=0;i<o.length;)(n=o[i++]).length&&(r=n.split("="),e.push({key:I(r.shift()),value:I(r.join("="))}))},D=function(e){this.entries.length=0,H(this.entries,e)},U=function(e,t){if(e<t)throw TypeError("Not enough arguments")},_=u((function(e,t){O(this,{type:"URLSearchParamsIterator",iterator:w(C(e).entries),kind:t})}),"Iterator",(function(){var e=L(this),t=e.kind,n=e.iterator.next(),r=n.value;return n.done||(n.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),n})),G=function(){f(this,G,"URLSearchParams");var e,t,n,r,o,i,a,s,c,u=arguments.length>0?arguments[0]:void 0,l=this,h=[];if(O(l,{type:"URLSearchParams",entries:h,updateURL:function(){},updateSearchParams:D}),void 0!==u)if(m(u))if("function"==typeof(e=b(u)))for(n=(t=e.call(u)).next;!(r=n.call(t)).done;){if((a=(i=(o=w(v(r.value))).next).call(o)).done||(s=i.call(o)).done||!i.call(o).done)throw TypeError("Expected sequence with length 2");h.push({key:a.value+"",value:s.value+""})}else for(c in u)d(u,c)&&h.push({key:c,value:u[c]+""});else H(h,"string"==typeof u?"?"===u.charAt(0)?u.slice(1):u:u+"")},J=G.prototype;s(J,{append:function(e,t){U(arguments.length,2);var n=C(this);n.entries.push({key:e+"",value:t+""}),n.updateURL()},delete:function(e){U(arguments.length,1);for(var t=C(this),n=t.entries,r=e+"",o=0;o<n.length;)n[o].key===r?n.splice(o,1):o++;t.updateURL()},get:function(e){U(arguments.length,1);for(var t=C(this).entries,n=e+"",r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){U(arguments.length,1);for(var t=C(this).entries,n=e+"",r=[],o=0;o<t.length;o++)t[o].key===n&&r.push(t[o].value);return r},has:function(e){U(arguments.length,1);for(var t=C(this).entries,n=e+"",r=0;r<t.length;)if(t[r++].key===n)return!0;return!1},set:function(e,t){U(arguments.length,1);for(var n,r=C(this),o=r.entries,i=!1,a=e+"",s=t+"",c=0;c<o.length;c++)(n=o[c]).key===a&&(i?o.splice(c--,1):(i=!0,n.value=s));i||o.push({key:a,value:s}),r.updateURL()},sort:function(){var e,t,n,r=C(this),o=r.entries,i=o.slice();for(o.length=0,n=0;n<i.length;n++){for(e=i[n],t=0;t<n;t++)if(o[t].key>e.key){o.splice(t,0,e);break}t===n&&o.push(e)}r.updateURL()},forEach:function(e){for(var t,n=C(this).entries,r=h(e,arguments.length>1?arguments[1]:void 0,3),o=0;o<n.length;)r((t=n[o++]).value,t.key,this)},keys:function(){return new _(this,"keys")},values:function(){return new _(this,"values")},entries:function(){return new _(this,"entries")}},{enumerable:!0}),a(J,T,J.entries),a(J,"toString",(function(){for(var e,t=C(this).entries,n=[],r=0;r<t.length;)e=t[r++],n.push(F(e.key)+"="+F(e.value));return n.join("&")}),{enumerable:!0}),c(G,"URLSearchParams"),r({global:!0,forced:!i},{URLSearchParams:G}),i||"function"!=typeof E||"function"!=typeof S||r({global:!0,enumerable:!0,forced:!0},{fetch:function(e){var t,n,r,o=[e];return arguments.length>1&&(m(t=arguments[1])&&(n=t.body,"URLSearchParams"===p(n)&&((r=t.headers?new S(t.headers):new S).has("content-type")||r.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),t=g(t,{body:y(0,String(n)),headers:y(0,r)}))),o.push(t)),E.apply(this,o)}}),e.exports={URLSearchParams:G,getState:C}},function(e,t,n){var r=n(5),o=n(39);e.exports=function(e){var t=o(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return r(t.call(e))}},function(e,t,n){function r(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var a=e.apply(t,n);function s(e){r(a,o,i,s,c,"next",e)}function c(e){r(a,o,i,s,c,"throw",e)}s(void 0)}))}}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n(30),n(24),n(80),n(148),n(27),n(108),n(33),n(49),n(48),n(76),n(111);var a=function(){"use strict";function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(e){var t=JSON.parse(e.data);console.log(t),"joinRoom"===t.type?i(t):"createRoom"===t.type?r(t):"roomActionState"===t.type?l(t):"roomActionKickFromRoom"===t.type||("roomActionLeaveRoom"===t.type?a(t):"getCurrentRoom"===t.type?f(t):"roomActionStartGame"===t.type?c(t):"roomActionEndGame"===t.type?u(t):"roomActionMahjong"===t.type?this.onGameMahjong instanceof Function&&this.onGameMahjong(t):"roomActionWallEmpty"===t.type?this.onGameMahjong instanceof Function&&this.onWallEmpty(t):"roomActionPlaceTiles"===t.type?this.onPlaceTiles instanceof Function&&this.onPlaceTiles(t):"roomActionGameplayAlert"===t.type?this.onGameplayAlert instanceof Function&&this.onGameplayAlert(t):console.log("Unknown Type "+t.type))}.bind(this);this.createWebsocket=function(){var e=o(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.websocket=new WebSocket(t),this.websocket.addEventListener("message",n),this.websocket.addEventListener("error",function(){var e=o(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.error(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}().bind(this)),this.websocket.addEventListener("close",function(){var e=o(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.warn(t),1e3===t.code){e.next=6;break}return e.next=4,new Promise((function(e,t){setTimeout(e,1e3)}));case 4:this.createWebsocket(),this.getCurrentRoom();case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}().bind(this)),this.sendMessage=function(){var e=o(regeneratorRuntime.mark((function e(t){var n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==this.websocket.readyState){e.next=3;break}return e.next=3,new Promise((function(e,t){n.websocket.onopen=e,n.websocket.onerror=t}));case 3:console.log(t),this.websocket.send(t);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}().bind(this),this.createWebsocket(),this.inRoom=!1,this.isHost=!1,this.inGame=!1,this.joinRoom=function(e,t){this.sendMessage(JSON.stringify({type:"joinRoom",clientId:window.clientId,roomId:e,nickname:t}))},this.createRoom=function(e,t){this.sendMessage(JSON.stringify({type:"createRoom",clientId:window.clientId,roomId:e,nickname:t}))},this.kickUser=function(e,t){this.sendMessage(JSON.stringify({type:"roomActionKickFromRoom",clientId:window.clientId,id:t}))},this.leaveRoom=function(e){this.sendMessage(JSON.stringify({type:"roomActionLeaveRoom",clientId:window.clientId}))},this.closeRoom=function(e){this.sendMessage(JSON.stringify({type:"roomActionCloseRoom",clientId:window.clientId}))},this.startGame=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.sendMessage(JSON.stringify({type:"roomActionStartGame",clientId:window.clientId,settings:e}))},this.endGame=function(){this.sendMessage(JSON.stringify({type:"roomActionEndGame",clientId:window.clientId}))},this.placeTiles=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.sendMessage(JSON.stringify({type:"roomActionPlaceTiles",clientId:window.clientId,mahjong:t,message:e}))},this.addBot=function(e){this.sendMessage(JSON.stringify({type:"roomActionAddBot",clientId:window.clientId,botName:e}))},this.getCurrentRoom=function(){this.sendMessage(JSON.stringify({type:"getCurrentRoom",clientId:window.clientId}))}.bind(this),this.revertState=function(e){this.sendMessage(JSON.stringify({type:"roomActionRevertState",message:e,clientId:window.clientId}))}.bind(this),this.createRoomFromState=function(e){this.sendMessage(JSON.stringify({type:"createRoomFromState",saveId:e,clientId:window.clientId}))}.bind(this),this.getState=function(e){console.log("Getting state..."),this.sendMessage(JSON.stringify({type:"roomActionState",clientId:window.clientId}))};var r=function(e){"success"===e.status&&(this.inRoom=e.message,this.isHost=!0),this.onCreateRoom instanceof Function&&this.onCreateRoom(e)}.bind(this),i=function(e){"success"===e.status&&(this.inRoom=e.message),this.onJoinRoom instanceof Function&&this.onJoinRoom(e)}.bind(this),a=function(e){"success"===e.status&&(this.inRoom=!1,this.isHost=!1),this.onLeaveRoom instanceof Function&&this.onLeaveRoom(e)}.bind(this),s={onStartGame:[],onEndGame:[],onStateUpdate:[]};this.addEventListener=function(e,t){if(!s[e])throw e+" is not supported by this addEventListener";s[e].push(t)}.bind(this),this.removeEventListener=function(e,t){if(!s[e])throw e+" is not supported by this addEventListener";if(-1===s.indexOf(t))throw"Unable to find listener";s[e].splice(s.indexOf(t),1)}.bind(this);var c=function(e){"success"===e.status&&(this.inGame=!0),this.onStartGame instanceof Function&&this.onStartGame(e),s.onStartGame.forEach((function(t){t(e)}))}.bind(this),u=function(e){"success"===e.status&&(this.inGame=!1),this.onEndGame instanceof Function&&this.onEndGame(e),s.onEndGame.forEach((function(t){t(e)}))}.bind(this),l=function(e){console.log(e),this.isHost=e.message.isHost,!1===this.inGame&&!0===e.message.inGame?c({status:"success",message:"State Sync"}):!0===this.inGame&&!1===e.message.inGame&&u({status:"success",message:"State Sync"}),this.currentTurn=e.message.currentTurn,this.onStateUpdate instanceof Function&&this.onStateUpdate(e),s.onStateUpdate.forEach((function(t){t(e)}))}.bind(this),f=function(e){this.inRoom=e.message||!1,this.inRoom&&(i(e),this.getState(this.inRoom))}.bind(this)}var t,n,r;return t=e,r=[{key:"setClientId",value:function(e){window.clientId=e,localStorage.setItem("clientId",window.clientId);var t=new URLSearchParams("?"+window.location.hash.slice(1));t.has("clientId")&&(window.clientId=t.get("clientId"))}},{key:"createNewClientId",value:function(){return"user"+Math.random()*Math.pow(2,53)}},{key:"getClientId",value:function(){var t=localStorage.getItem("clientId");return null===t&&(t=e.createNewClientId()),t}}],(n=null)&&i(t.prototype,n),r&&i(t,r),e}();a.setClientId(a.getClientId()),e.exports=a},function(e,t,n){var r=n(0);e.exports=r.Promise},function(e,t,n){"use strict";var r=n(14),o=n(9),i=n(1),a=n(7),s=i("species");e.exports=function(e){var t=r(e),n=o.f;a&&t&&!t[s]&&n(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,n){var r=n(5),o=n(78),i=n(12),a=n(31),s=n(39),c=n(77),u=function(e,t){this.stopped=e,this.result=t};(e.exports=function(e,t,n,l,f){var d,h,p,v,m,g,y,w=a(t,n,l?2:1);if(f)d=e;else{if("function"!=typeof(h=s(e)))throw TypeError("Target is not iterable");if(o(h)){for(p=0,v=i(e.length);v>p;p++)if((m=l?w(r(y=e[p])[0],y[1]):w(e[p]))&&m instanceof u)return m;return new u(!1)}d=h.call(e)}for(g=d.next;!(y=g.call(d)).done;)if("object"==typeof(m=c(d,w,y.value,l))&&m&&m instanceof u)return m;return new u(!1)}).stop=function(e){return new u(!0,e)}},function(e,t,n){var r,o,i,a,s,c,u,l,f=n(0),d=n(21).f,h=n(11),p=n(97).set,v=n(98),m=f.MutationObserver||f.WebKitMutationObserver,g=f.process,y=f.Promise,w="process"==h(g),b=d(f,"queueMicrotask"),x=b&&b.value;x||(r=function(){var e,t;for(w&&(e=g.domain)&&e.exit();o;){t=o.fn,o=o.next;try{t()}catch(e){throw o?a():i=void 0,e}}i=void 0,e&&e.enter()},w?a=function(){g.nextTick(r)}:m&&!v?(s=!0,c=document.createTextNode(""),new m(r).observe(c,{characterData:!0}),a=function(){c.data=s=!s}):y&&y.resolve?(u=y.resolve(void 0),l=u.then,a=function(){l.call(u,r)}):a=function(){p.call(f,r)}),e.exports=x||function(e){var t={fn:e,next:void 0};i&&(i.next=t),o||(o=t,a()),i=t}},function(e,t,n){var r=n(5),o=n(6),i=n(99);e.exports=function(e,t){if(r(e),o(t)&&t.constructor===e)return t;var n=i.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){var r=n(0);e.exports=function(e,t){var n=r.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}},function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},function(e,t,n){"use strict";var r=n(4),o=n(0),i=n(14),a=n(19),s=n(7),c=n(45),u=n(71),l=n(2),f=n(3),d=n(102),h=n(6),p=n(5),v=n(16),m=n(13),g=n(22),y=n(17),w=n(47),b=n(63),x=n(53),E=n(168),S=n(55),T=n(21),O=n(9),C=n(50),L=n(8),P=n(10),k=n(42),M=n(36),R=n(29),I=n(43),N=n(1),A=n(150),j=n(151),F=n(25),H=n(15),D=n(72).forEach,U=M("hidden"),_=N("toPrimitive"),G=H.set,J=H.getterFor("Symbol"),B=Object.prototype,q=o.Symbol,V=i("JSON","stringify"),W=T.f,Y=O.f,z=E.f,X=C.f,K=k("symbols"),$=k("op-symbols"),Z=k("string-to-symbol-registry"),Q=k("symbol-to-string-registry"),ee=k("wks"),te=o.QObject,ne=!te||!te.prototype||!te.prototype.findChild,re=s&&l((function(){return 7!=w(Y({},"a",{get:function(){return Y(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=W(B,t);r&&delete B[t],Y(e,t,n),r&&e!==B&&Y(B,t,r)}:Y,oe=function(e,t){var n=K[e]=w(q.prototype);return G(n,{type:"Symbol",tag:e,description:t}),s||(n.description=t),n},ie=u?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof q},ae=function(e,t,n){e===B&&ae($,t,n),p(e);var r=g(t,!0);return p(n),f(K,r)?(n.enumerable?(f(e,U)&&e[U][r]&&(e[U][r]=!1),n=w(n,{enumerable:y(0,!1)})):(f(e,U)||Y(e,U,y(1,{})),e[U][r]=!0),re(e,r,n)):Y(e,r,n)},se=function(e,t){p(e);var n=m(t),r=b(n).concat(fe(n));return D(r,(function(t){s&&!ce.call(n,t)||ae(e,t,n[t])})),e},ce=function(e){var t=g(e,!0),n=X.call(this,t);return!(this===B&&f(K,t)&&!f($,t))&&(!(n||!f(this,t)||!f(K,t)||f(this,U)&&this[U][t])||n)},ue=function(e,t){var n=m(e),r=g(t,!0);if(n!==B||!f(K,r)||f($,r)){var o=W(n,r);return!o||!f(K,r)||f(n,U)&&n[U][r]||(o.enumerable=!0),o}},le=function(e){var t=z(m(e)),n=[];return D(t,(function(e){f(K,e)||f(R,e)||n.push(e)})),n},fe=function(e){var t=e===B,n=z(t?$:m(e)),r=[];return D(n,(function(e){!f(K,e)||t&&!f(B,e)||r.push(K[e])})),r};(c||(P((q=function(){if(this instanceof q)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=I(e),n=function(e){this===B&&n.call($,e),f(this,U)&&f(this[U],t)&&(this[U][t]=!1),re(this,t,y(1,e))};return s&&ne&&re(B,t,{configurable:!0,set:n}),oe(t,e)}).prototype,"toString",(function(){return J(this).tag})),P(q,"withoutSetter",(function(e){return oe(I(e),e)})),C.f=ce,O.f=ae,T.f=ue,x.f=E.f=le,S.f=fe,A.f=function(e){return oe(N(e),e)},s&&(Y(q.prototype,"description",{configurable:!0,get:function(){return J(this).description}}),a||P(B,"propertyIsEnumerable",ce,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!c,sham:!c},{Symbol:q}),D(b(ee),(function(e){j(e)})),r({target:"Symbol",stat:!0,forced:!c},{for:function(e){var t=String(e);if(f(Z,t))return Z[t];var n=q(t);return Z[t]=n,Q[n]=t,n},keyFor:function(e){if(!ie(e))throw TypeError(e+" is not a symbol");if(f(Q,e))return Q[e]},useSetter:function(){ne=!0},useSimple:function(){ne=!1}}),r({target:"Object",stat:!0,forced:!c,sham:!s},{create:function(e,t){return void 0===t?w(e):se(w(e),t)},defineProperty:ae,defineProperties:se,getOwnPropertyDescriptor:ue}),r({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:le,getOwnPropertySymbols:fe}),r({target:"Object",stat:!0,forced:l((function(){S.f(1)}))},{getOwnPropertySymbols:function(e){return S.f(v(e))}}),V)&&r({target:"JSON",stat:!0,forced:!c||l((function(){var e=q();return"[null]"!=V([e])||"{}"!=V({a:e})||"{}"!=V(Object(e))}))},{stringify:function(e,t,n){for(var r,o=[e],i=1;arguments.length>i;)o.push(arguments[i++]);if(r=t,(h(t)||void 0!==e)&&!ie(e))return d(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!ie(t))return t}),o[1]=t,V.apply(null,o)}});q.prototype[_]||L(q.prototype,_,q.prototype.valueOf),F(q,"Symbol"),R[U]=!0},function(e,t,n){"use strict";var r=n(4),o=n(7),i=n(0),a=n(3),s=n(6),c=n(9).f,u=n(68),l=i.Symbol;if(o&&"function"==typeof l&&(!("description"in l.prototype)||void 0!==l().description)){var f={},d=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof d?new l(e):void 0===e?l():l(e);return""===e&&(f[t]=!0),t};u(d,l);var h=d.prototype=l.prototype;h.constructor=d;var p=h.toString,v="Symbol(test)"==String(l("test")),m=/^Symbol\((.*)\)[^)]+$/;c(h,"description",{configurable:!0,get:function(){var e=s(this)?this.valueOf():this,t=p.call(e);if(a(f,e))return"";var n=v?t.slice(7,-1):t.replace(m,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:d})}},function(e,t,n){n(151)("iterator")},function(e,t,n){"use strict";var r=n(4),o=n(72).filter,i=n(86),a=n(37),s=i("filter"),c=a("filter");r({target:"Array",proto:!0,forced:!s||!c},{filter:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var r=n(4),o=n(72).some,i=n(73),a=n(37),s=i("some"),c=a("some");r({target:"Array",proto:!0,forced:!s||!c},{some:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var r=n(7),o=n(0),i=n(56),a=n(10),s=n(3),c=n(11),u=n(170),l=n(22),f=n(2),d=n(47),h=n(53).f,p=n(21).f,v=n(9).f,m=n(152).trim,g=o.Number,y=g.prototype,w="Number"==c(d(y)),b=function(e){var t,n,r,o,i,a,s,c,u=l(e,!1);if("string"==typeof u&&u.length>2)if(43===(t=(u=m(u)).charCodeAt(0))||45===t){if(88===(n=u.charCodeAt(2))||120===n)return NaN}else if(48===t){switch(u.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+u}for(a=(i=u.slice(2)).length,s=0;s<a;s++)if((c=i.charCodeAt(s))<48||c>o)return NaN;return parseInt(i,r)}return+u};if(i("Number",!g(" 0o1")||!g("0b1")||g("+0x1"))){for(var x,E=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof E&&(w?f((function(){y.valueOf.call(n)})):"Number"!=c(n))?u(new g(b(t)),n,E):b(t)},S=r?h(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),T=0;S.length>T;T++)s(g,x=S[T])&&!s(E,x)&&v(E,x,p(g,x));E.prototype=y,y.constructor=E,a(o,"Number",E)}},function(e,t,n){"use strict";var r=n(2);function o(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=r((function(){var e=o("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=r((function(){var e=o("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},function(e,t,n){"use strict";n(82);var r=n(10),o=n(2),i=n(1),a=n(59),s=n(8),c=i("species"),u=!o((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),l="$0"==="a".replace(/./,"$0"),f=i("replace"),d=!!/./[f]&&""===/./[f]("a","$0"),h=!o((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));e.exports=function(e,t,n,f){var p=i(e),v=!o((function(){var t={};return t[p]=function(){return 7},7!=""[e](t)})),m=v&&!o((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[c]=function(){return n},n.flags="",n[p]=/./[p]),n.exec=function(){return t=!0,null},n[p](""),!t}));if(!v||!m||"replace"===e&&(!u||!l||d)||"split"===e&&!h){var g=/./[p],y=n(p,""[e],(function(e,t,n,r,o){return t.exec===a?v&&!o?{done:!0,value:g.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}),{REPLACE_KEEPS_$0:l,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:d}),w=y[0],b=y[1];r(String.prototype,e,w),r(RegExp.prototype,p,2==t?function(e,t){return b.call(e,this,t)}:function(e){return b.call(e,this)})}f&&s(RegExp.prototype[p],"sham",!0)}},function(e,t,n){"use strict";var r=n(57).charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},function(e,t,n){var r=n(11),o=n(59);e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var i=n.call(e,t);if("object"!=typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==r(e))throw TypeError("RegExp#exec called on incompatible receiver");return o.call(e,t)}},function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n(60),n(175),n(27),n(108),n(82),n(155);var o=new Promise((function(e){e()})),i=0,a=function(){"use strict";return function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3200;r(this,e);var a=document.createElement("div");a.classList.add("blocklessAlertCover"),a.style.display="none",document.body.appendChild(a);var s=document.createElement("p");s.innerHTML=t,a.appendChild(s);var c=o;return o=new Promise((function(e){i++,o.then((function(){console.log(i+" messages remaining to be posted. ");var t=n/(Math.max(1,Math.pow(i,.8))||1);t=Math.max(800,t),console.log("Adjusting duration from ".concat(n," to ").concat(t)),n=t,a.style.animation="fadeInAndOut "+n+"ms ease-in",a.style.display="",setTimeout((function(){a.remove(),i--,e()}),n)}))})),{onStart:c,onEnd:o}}}();e.exports={Notification:function e(t,n){"use strict";r(this,e),n=n.split("\n").join("<br>");var o=document.createElement("div");o.id="errorPopupCover",o.style.display="none",document.body.appendChild(o);var i=document.createElement("div");i.id="errorPopup",o.appendChild(i);var a=document.createElement("p");a.innerHTML=t,a.id="errorText",i.appendChild(a);var s=document.createElement("p");s.innerHTML=n,s.id="messageText",i.appendChild(s);var c=document.createElement("button");c.id="dismissButton",c.innerHTML="Dismiss",i.appendChild(c);var u=function(e){this.ondismissed&&this.ondismissed(),o.remove()}.bind(this);setTimeout((function(){c.addEventListener("click",u),o.addEventListener("click",(function(e){e.target===o&&u()}))}),500),this.show=function(){o.style.display=""}},MessageBar:function e(t){"use strict";r(this,e);var n=document.createElement("div");n.id="notificationBar";var o=document.createElement("p");o.innerHTML=t,n.appendChild(o),this.show=function(e){document.body.appendChild(n),setTimeout((function(){n.remove()}),e)}},BlocklessAlert:a}},function(e,t,n){"use strict";n.r(t);n(60),n(30),n(46),n(90),n(24),n(27),n(143),n(117),n(33),n(147),n(48),n(76);var r=n(165);try{if(/MSIE (\d+\.\d+);/.test(navigator.userAgent)||navigator.userAgent.indexOf("Trident/")>-1){var o=document.createElement("h2");o.innerHTML="Internet Explorer is NOT Supported. Choose a different browser (Chrome, Firefox, Edge, Safari, Opera, and most other browsers should work)",document.body.insertBefore(o,document.body.firstChild)}}catch(e){console.error(e)}if("serviceWorker"in navigator)try{navigator.serviceWorker.register("packagedsw.js")}catch(e){console.error(e)}document.title="Mahjong 4 Friends - Free Multiplayer Mahjong",window.isAndroid=!1,document.referrer&&document.referrer.includes("android-app://com.mahjong4friends.twa")&&(window.isAndroid=!0),n(107);[16,24,32,64,96,160,196].forEach((function(e){var t=document.createElement("link");t.rel="shortcut icon",t.type="image/png",t.sizes=e+"x"+e,t.href="assets/icons/".concat(e,"x").concat(e,"-green-dragon.png"),document.head.appendChild(t)}));var i=n(122);(0,n(166).polyfill)({dragImageTranslateOverride:r.scrollBehaviourDragImageTranslateOverride});var a=new URL(window.location.origin+window.location.pathname);a.pathname="/node","https:"===window.location.protocol?a.protocol="wss:":a.protocol="ws:",("127.0.0.1"===window.location.hostname||window.location.hostname.startsWith("192.168.1"))&&(a.port=7591);var s=a.toString();window.isNative&&(s="wss://mahjong4friends.com/node"),window.stateManager=new i(s),["Hand","Tile","Sequence","Pretty","Match","Wall","Popups"].forEach((function(e){window[e]=n(167)("./"+e+".js")}));n(163),n(149);function c(){document.documentElement.style.setProperty("--vh","".concat(window.innerHeight/100,"px")),document.documentElement.style.setProperty("--vw","".concat(window.innerWidth/100,"px"));var e=parseFloat(getComputedStyle(document.documentElement).getPropertyValue("--sal"));e-=10,document.documentElement.style.setProperty("--shiftPercentageLeft","".concat(Math.max(0,e/window.innerWidth)));var t=parseFloat(getComputedStyle(document.documentElement).getPropertyValue("--sar"));t-=10,document.documentElement.style.setProperty("--shiftPercentageRight","".concat(Math.max(0,t/window.innerWidth)))}window.addEventListener("resize",c),window.addEventListener("orientationchange",c),c(),window.addEventListener("touchmove",(function(){}),{passive:!1})},function(e,t,n){"use strict";var r=n(72).forEach,o=n(73),i=n(37),a=o("forEach"),s=i("forEach");e.exports=a&&s?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},function(e,t,n){"use strict";var r=n(10),o=n(5),i=n(2),a=n(104),s=RegExp.prototype,c=s.toString,u=i((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),l="toString"!=c.name;(u||l)&&r(RegExp.prototype,"toString",(function(){var e=o(this),t=String(e.source),n=e.flags;return"/"+t+"/"+String(void 0===n&&e instanceof RegExp&&!("flags"in s)?a.call(e):n)}),{unsafe:!0})},function(e,t,n){var r=n(145);e.exports=function(e){if(r(e))throw TypeError("The method doesn't accept regular expressions");return e}},function(e,t,n){var r=n(6),o=n(11),i=n(1)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==o(e))}},function(e,t,n){var r=n(1)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,"/./"[e](t)}catch(e){}}return!1}},function(e,t,n){"use strict";var r,o=n(4),i=n(21).f,a=n(12),s=n(144),c=n(18),u=n(146),l=n(19),f="".startsWith,d=Math.min,h=u("startsWith");o({target:"String",proto:!0,forced:!!(l||h||(r=i(String.prototype,"startsWith"),!r||r.writable))&&!h},{startsWith:function(e){var t=String(c(this));s(e);var n=a(d(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return f?f.call(t,r,n):t.slice(n,n+r.length)===r}})},function(e,t,n){"use strict";var r=n(4),o=n(54),i=n(26),a=n(12),s=n(16),c=n(114),u=n(70),l=n(86),f=n(37),d=l("splice"),h=f("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,v=Math.min;r({target:"Array",proto:!0,forced:!d||!h},{splice:function(e,t){var n,r,l,f,d,h,m=s(this),g=a(m.length),y=o(e,g),w=arguments.length;if(0===w?n=r=0:1===w?(n=0,r=g-y):(n=w-2,r=v(p(i(t),0),g-y)),g+n-r>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(l=c(m,r),f=0;f<r;f++)(d=y+f)in m&&u(l,f,m[d]);if(l.length=r,n<r){for(f=y;f<g-r;f++)h=f+n,(d=f+r)in m?m[h]=m[d]:delete m[h];for(f=g;f>g-r+n;f--)delete m[f-1]}else if(n>r)for(f=g-r;f>y;f--)h=f+n-1,(d=f+r-1)in m?m[h]=m[d]:delete m[h];for(f=0;f<n;f++)m[f+y]=arguments[f+2];return m.length=g-r+n,l}})},function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n(130),n(131),n(132),n(60),n(112),n(133),n(30),n(46),n(90),n(24),n(100),n(80),n(134),n(135),n(27),n(117),n(33),n(49),n(48);var o=n(40),i=n(113),a=n(101),s=n(140),c=(n(67),n(66),document.createElement("div"));function u(e){var t=document.createElement("div");return t.id=e,c.appendChild(t),t}function l(e,t){var n=u(e),r=document.createElement("div");return r.id=t,n.appendChild(r),r}c.id="gameBoard",document.body.appendChild(c);var f=new function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.id=e.id||"compass",this.compass=document.createElement("img"),this.compass.id=e.id,c.appendChild(this.compass),this.setDirectionForUserWind=function(e){this.compass.src="assets/compass-"+e+".svg"}}({id:"compass"});var d=new function(e){if(!document.fullscreenEnabled&&document.webkitFullscreenEnabled&&(Object.defineProperty(document,"fullscreenElement",{get:function(){return document.webkitFullscreenElement}}),document.documentElement.requestFullscreen=function(){document.documentElement.webkitRequestFullScreen()},document.exitFullscreen=function(){document.webkitExitFullscreen()},document.addEventListener("webkitfullscreenchange",(function(){document.dispatchEvent(new Event("fullscreenchange"))}))),void 0!==document.fullscreenElement){this.toggleElement=document.createElement("img"),this.toggleElement.id=e,this.toggleElement.title="Toggle Full Screen",this.toggleElement.addEventListener("click",(function(){document.fullscreenElement?document.exitFullscreen():document.documentElement.requestFullscreen()}));var t=function(){document.fullscreenElement?this.toggleElement.src="assets/exit-full-screen.svg":this.toggleElement.src="assets/go-full-screen.svg"}.bind(this);document.addEventListener("fullscreenchange",t),t()}}("fullscreenControls");d.toggleElement&&c.appendChild(d.toggleElement),window.Tile=o,window.Sequence=n(67),window.Match=n(66);var h=function(){var e=document.createElement("div");return e.id="tilePlacemat",e}();c.appendChild(h);var p=document.createElement("button");p.id="revertStateButton",p.innerHTML="Revert",c.appendChild(p),p.addEventListener("click",(function(){var e=prompt("How many moves (4 moves per turn) would you like to revert? You can always revert more if needed, but can't undo a revert. ");null!==e&&confirm("Are you sure you would like to revert the game state? Other players will be notified, so you should clear the revert with them. ")&&window.stateManager.revertState(e)}));var v=document.createElement("button");v.id="placeTilesButton",v.innerHTML="Proceed",c.appendChild(v),v.addEventListener("click",(function(){var e=S.inPlacemat;e.length!==Number(e.some((function(e){return e.evicting})))?(console.log(e),window.stateManager.placeTiles(e)):window.stateManager.placeTiles([])})),window.stateManager.onPlaceTiles=function(e){"error"===e.status&&new s.Notification("Error Placing Tiles",e.message).show()},window.stateManager.onGameplayAlert=function(e){var t,n=document.createElement("audio"),r=[];e.message.includes("thrown")?n.volume=.5:e.message.includes("mahjong")&&(n.volume=1.2,r=["tiles-dropping-table.mp3"]),r.length>0&&(n.src="assets/sounds/"+r[Math.floor(Math.random()*r.length)],n.setAttribute("preload","auto"),n.setAttribute("controls","none"),n.style.display="none",document.body.appendChild(n),n.play(),setTimeout((function(){n.remove()}),2e3)),console.log(e),console.log(e.message);var o=new s.BlocklessAlert(e.message,4e3*((null==e||null===(t=e.status)||void 0===t?void 0:t.durationMultiplier)||1));console.log(o),o.onStart.then((function(){var t,n;if(window.voiceChoices[null==e||null===(t=e.status)||void 0===t?void 0:t.clientId]&&(null==e||null===(n=e.status)||void 0===n?void 0:n.speech)){var r=new SpeechSynthesisUtterance(e.status.speech),o=window.voiceChoices[e.status.clientId].get();if(console.log(window.voiceChoices[e.status.clientId]),console.log(window.voiceChoices[e.status.clientId].get()),console.log(o),"string"!=typeof o)try{r.voice=o}catch(e){console.error(e)}"none"!==o&&speechSynthesis.speak(r)}}))};var m=document.createElement("button");m.id="endGameButton",m.innerHTML="End Game",c.appendChild(m);var g=!0;function y(e,t){g=!1,new s.Notification(e,t.message).show()}window.stateManager.addEventListener("onStartGame",(function(){g=!0})),m.addEventListener("click",(function(){g&&!confirm("Are you absolutely sure you want to end the game?")||window.stateManager.endGame()})),window.stateManager.onGameMahjong=function(e){y("Mahjong!",e)},window.stateManager.onWallEmpty=function(e){y("Game Over - Wall Empty",e)};var w=document.createElement("button");w.id="goMahjongButton",w.innerHTML="Mahjong",c.appendChild(w),w.addEventListener("click",(function(){var e=S.inPlacemat;console.log(e),window.stateManager.placeTiles(e,{mahjong:!0})}));var b=document.createElement("div");b.id="wall",c.appendChild(b);var x=document.createElement("div");x.id="discardPile",c.appendChild(x);var E=u("userHand"),S=(u("userHandExposed"),new i({handToRender:E,handForExposed:userHandExposed,interactive:!0,tilePlacemat:h}));window.userHand=S;var T=l("rightHand","rightHandContainer"),O=new i({handToRender:T}),C=u("topHand"),L=new i({handToRender:C}),P=l("leftHand","leftHandContainer"),k=new i({handToRender:P}),M=["bottomNametag","rightNametag","topNametag","leftNametag"].map((function(e){var t=document.createElement("p");return t.id=e,c.appendChild(t),t}));function R(){L.renderTiles(),k.renderTiles(),O.renderTiles(),S.renderTiles()}window.stateManager.addEventListener("onStateUpdate",(function(e){var t,n,s=e.message;if(s.inGame){document.body.style.overflow="hidden",void 0!==s.wallTiles&&(console.log(s.wallTiles),"object"===r(s.wallTiles)?s.wallTiles=i.convertStringsToTiles(s.wallTiles):s.wallTiles=new Array(s.wallTiles).fill(new o({faceDown:!0})),console.log(s.wallTiles),a.renderWall(b,s.wallTiles)),s.discardPile&&function(e){for(;x.firstChild;)x.firstChild.remove();var t=e.map((function(e){return o.fromJSON(e)}));(t=i.sortTiles(t)).forEach((function(e){var t=document.createElement("img");t.src=e.imageUrl,t.title=e.tileName,x.appendChild(t)}))}(s.discardPile);var c,u=s.clients,l=["north","east","south","west"],d=[S,O,L,k];u.forEach((function(e){if(e.hand){var t;console.log("User hand stuff");var n=i.fromString(e.hand);S.syncContents(n.contents,null==s||null===(t=s.currentTurn)||void 0===t?void 0:t.charleston),c=n.wind}}));var h=l.indexOf(c);f.setDirectionForUserWind(c);var p=l.slice(h).concat(l.slice(0,h));console.log(p),console.log(d),u.forEach((function(e){var t=0;e.wind&&(t=p.indexOf(e.wind));var n=d[t];e.visibleHand&&e.wind&&(console.log("Client hand stuff"),console.log(e),console.log(e.wind),n.syncContents(i.convertStringsToTiles(e.visibleHand)),n.wind=e.wind);var r=M[t];r.innerHTML=e.nickname,r.style.color="",n.handToRender.classList.remove("brightnessPulse"),s.currentTurn&&e.id===s.currentTurn.userTurn&&(n.handToRender.classList.add("brightnessPulse"),r.style.color="red")})),d.forEach((function(e){e.renderTiles()})),(null===(t=s.currentTurn)||void 0===t||null===(n=t.playersReady)||void 0===n?void 0:n.length)>0?(v.disabled=s.currentTurn.playersReady.includes(window.clientId)?"disabled":"",w.disabled=s.currentTurn.playersReady.includes(window.clientId)?"disabled":"",v.innerHTML="Proceed ("+s.currentTurn.playersReady.length+"/4)",s.currentTurn.thrown||s.currentTurn.charleston||s.currentTurn.userTurn!==clientId||(v.disabled=""),s.currentTurn.charleston&&s.currentTurn.userTurn!==clientId&&(w.disabled="disabled"),s.currentTurn.userTurn!==clientId?S.setEvictingThrownTile(o.fromJSON(s.currentTurn.thrown)):S.setEvictingThrownTile(),S.renderPlacemat()):(v.disabled="",w.disabled="",v.innerHTML="Proceed",S.setEvictingThrownTile(),s.currentTurn.charleston&&(w.disabled="disabled"),s.currentTurn.userTurn===window.clientId?S.renderPlacemat("pending"):s.currentTurn.charleston||(v.disabled="disabled",w.disabled="disabled"))}else document.body.style.overflow=""})),document.addEventListener("keyup",(function(e){var t=["q","w","e","r","t","y","u","i","o","p","a","s","d","f"];if(stateManager.inGame)if("Space"===e.code&&e.shiftKey)w.click();else if("Space"===e.code)v.click();else if(Number(e.key)>0&&Number(e.key)<5){var n=Number(e.key)-1;S.moveTile(S.inPlacemat[n])}else if(t.includes(e.key.toLowerCase())){var r=t.indexOf(e.key.toLowerCase()),i=S.contents.filter((function(e){return e instanceof o}));S.moveTile(i[r])}})),window.addEventListener("resize",R),window.addEventListener("orientationchange",R),window.addEventListener("scroll",(function(e){window.stateManager.inGame&&window.scrollTo(0,0)})),e.exports=c},function(e,t,n){var r=n(1);t.f=r},function(e,t,n){var r=n(69),o=n(3),i=n(150),a=n(9).f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});o(t,e)||a(t,e,{value:i.f(e)})}},function(e,t,n){var r=n(18),o="["+n(153)+"]",i=RegExp("^"+o+o+"*"),a=RegExp(o+o+"*$"),s=function(e){return function(t){var n=String(r(t));return 1&e&&(n=n.replace(i,"")),2&e&&(n=n.replace(a,"")),n}};e.exports={start:s(1),end:s(2),trim:s(3)}},function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},function(e,t,n){"use strict";var r=n(4),o=n(23),i=n(16),a=n(2),s=n(73),c=[],u=c.sort,l=a((function(){c.sort(void 0)})),f=a((function(){c.sort(null)})),d=s("sort");r({target:"Array",proto:!0,forced:l||!f||!d},{sort:function(e){return void 0===e?u.call(i(this)):u.call(i(this),o(e))}})},function(e,t,n){"use strict";var r=n(137),o=n(145),i=n(5),a=n(18),s=n(110),c=n(138),u=n(12),l=n(139),f=n(59),d=n(2),h=[].push,p=Math.min,v=!d((function(){return!RegExp(4294967295,"y")}));r("split",2,(function(e,t,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var r=String(a(this)),i=void 0===n?4294967295:n>>>0;if(0===i)return[];if(void 0===e)return[r];if(!o(e))return t.call(r,e,i);for(var s,c,u,l=[],d=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),p=0,v=new RegExp(e.source,d+"g");(s=f.call(v,r))&&!((c=v.lastIndex)>p&&(l.push(r.slice(p,s.index)),s.length>1&&s.index<r.length&&h.apply(l,s.slice(1)),u=s[0].length,p=c,l.length>=i));)v.lastIndex===s.index&&v.lastIndex++;return p===r.length?!u&&v.test("")||l.push(""):l.push(r.slice(p)),l.length>i?l.slice(0,i):l}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var o=a(this),i=null==t?void 0:t[e];return void 0!==i?i.call(t,o,n):r.call(String(o),t,n)},function(e,o){var a=n(r,e,this,o,r!==t);if(a.done)return a.value;var f=i(e),d=String(this),h=s(f,RegExp),m=f.unicode,g=(f.ignoreCase?"i":"")+(f.multiline?"m":"")+(f.unicode?"u":"")+(v?"y":"g"),y=new h(v?f:"^(?:"+f.source+")",g),w=void 0===o?4294967295:o>>>0;if(0===w)return[];if(0===d.length)return null===l(y,d)?[d]:[];for(var b=0,x=0,E=[];x<d.length;){y.lastIndex=v?x:0;var S,T=l(y,v?d:d.slice(x));if(null===T||(S=p(u(y.lastIndex+(v?0:x)),d.length))===b)x=c(d,x,m);else{if(E.push(d.slice(b,x)),E.length===w)return E;for(var O=1;O<=T.length-1;O++)if(E.push(T[O]),E.length===w)return E;x=b=S}}return E.push(d.slice(b)),E}]}),!v)},function(e,t,n){n(60),n(30),n(46),n(90),n(80),n(64),n(49),n(65);var r=n(40);e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[],o=[];console.log(this.contents.length),this.contents.forEach((function(e){n.push(e.toJSON())})),console.log(this.inPlacemat.length),this.inPlacemat.forEach((function(e){e.evicting||n.push(e.toJSON())})),e.forEach((function(e){o.push(e.toJSON())}));for(var i=0;i<n.length;i++){var a=n[i];a&&o.includes(a)&&(n[i]=null,o[o.indexOf(a)]=null)}var s=this.contents.slice(0);s=this.inPlacemat[0]&&this.inPlacemat[0].evicting?s.concat(this.inPlacemat.slice(1)):s.concat(this.inPlacemat.slice(0));for(var c=0;c<n.length;c++){var u=n[c];u&&this.remove(s[c])}for(var l=0;l<o.length;l++){var f=o[l];f&&(t&&this.inPlacemat.length<3&&e[l]instanceof r?this.inPlacemat.push(e[l]):this.add(e[l]))}}},function(e,t,n){n(30),n(80);var r=n(66),o=n(40);e.exports=function(){for(var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=0,i=0,a=!1,s=this.contents.slice(0),c=function(t){var s=e.contents[t];s instanceof o&&[4,3,2].forEach(function(n){s instanceof o?e.removeMatchingTilesFromHand(s,n)&&(t--,s=new r({amount:n,type:s.type,value:s.value,exposed:!1})):u=t}.bind(e)),n+=s.isDouble(e.wind),i+=s.getPoints(e.wind),a=a||s.isSequence,u=t},u=0;u<this.contents.length;u++)c(u);return t.isMahjong&&(i+=20,t.drewOwnTile&&(i+=10),a||(i+=10)),this.contents=s,n+=this.getClearHandDoubles(),i*Math.pow(2,n)}},function(e,t,n){n(30),n(46),n(159),n(49);var r=n(67),o=n(81);e.exports=function(){var e={},t=!1,n=!0;return this.contents.forEach((function(t){t instanceof r?(e[t.tiles[0].type]=!0,n=!1):t instanceof o||(e[t.type]=!0,["wind","dragon"].includes(t.type)||1===t.value||9===t.value||(n=!1))})),(e.wind||e.dragon)&&(delete e.wind,delete e.dragon,t=!0),0===(e=Object.keys(e).length)?3:1!==e||t?1===e&&t?1:n&&!t?3:n&&t?1:0:3}},function(e,t,n){var r=n(4),o=n(16),i=n(63);r({target:"Object",stat:!0,forced:n(2)((function(){i(1)}))},{keys:function(e){return i(o(e))}})},function(e,t,n){function r(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw a}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n(130),n(131),n(132),n(60),n(133),n(30),n(172),n(24),n(173),n(80),n(161),n(135),n(27),n(143),n(33),n(49),n(48),n(111);var i=n(67),a=n(81),s=n(101),c=n(66),u=n(40),l=n(113);e.exports=function(e){for(var t=regeneratorRuntime.mark(b),n=0,o=0,f=0,d=[],h=[],p=0;p<this.contents.length;p++){var v=this.contents[p];v.isPongOrKong?(n++,h.push(v)):v.isPair?(o++,h.push(v)):v.isSequence?(f++,h.push(v)):v instanceof a?h.push(v):d.push(v)}if(1===o)if(e){if(f+n===4)return 2}else if(Math.min(f,1)+n===4)return 2;var m=l.sortTiles(s.getNonPrettyTiles(1)),g=[],y=[],w=new l;function b(e,n){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=function(t,i){var a;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i.length!=n){r.next=5;break}return r.next=3,i;case 3:r.next=11;break;case 5:a=t;case 6:if(!(a<e.length)){r.next=11;break}return r.delegateYield(o(a+1,i.concat(e[a])),"t0",8);case 8:a++,r.next=6;break;case 11:case"end":return r.stop()}}),r)},r=regeneratorRuntime.mark(o),t.delegateYield(o(0,[]),"t0",3);case 3:case"end":return t.stop()}}),t)}w.contents=d.slice(0),m.forEach((function(e){w.removeMatchingTilesFromHand(e,3,!0)&&g.push(e)})),m.forEach((function(e,t){if(i.isValidSequence(m.slice(t,t+3))){var n=new i({exposed:!1,tiles:m.slice(t,t+3)});w.removeTilesFromHand(n,!0)&&y.push(n)}}));var x=[],E=g,S=4;e||0===f?(E=E.concat(y),S-=f):S-=Math.min(f,1);var T,O=r(b(E,S-=n));try{for(O.s();!(T=O.n()).done;){var C=T.value,L=C.reduce((function(e,t){return e+Number(t instanceof i)}),0),P=S-L;L+=f,!e&&4-n-P>Math.min(1,L)||x.push(C)}}catch(e){O.e(e)}finally{O.f()}e:for(var k=0;k<x.length;k++){var M=x[k],R=new l;R.contents=w.contents.slice(0);for(var I=0;I<M.length;I++){var N=M[I];if(N instanceof u){if(!R.removeMatchingTilesFromHand(N,3))continue e;R.add(new c({type:N.type,value:N.value,exposed:!1,amount:3}))}else if(N instanceof i){if(!R.removeTilesFromHand(N))continue e;R.add(N)}}var A=R.contents.filter((function(e){return e instanceof u}))[0];if(0!==o||R.removeMatchingTilesFromHand(A,2,!0))return 0===o&&(R.add(new c({type:A.type,value:A.value,exposed:!1,amount:2})),R.removeMatchingTilesFromHand(A,2)),R.contents=R.contents.concat(h.slice(0)),R}return 0}},function(e,t,n){var r=n(7),o=n(9).f,i=Function.prototype,a=i.toString,s=/^\s*function ([^ (]*)/;r&&!("name"in i)&&o(i,"name",{configurable:!0,get:function(){try{return a.call(this).match(s)[1]}catch(e){return""}}})},function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n(130),n(131),n(132),n(112),n(30),n(24),n(134),n(27),n(33),n(49),n(48);var o=n(67),i=(n(81),n(101)),a=n(66),s=n(40),c=n(113);e.exports=function(e,t){var n=this,u=new c;u.contents=i.getNonPrettyTiles(),e.forEach((function(e){u.removeMatchingTile(e)})),this.contents.forEach((function(e){e instanceof s?u.removeMatchingTile(e):e instanceof o?e.tiles.forEach((function(e){u.removeMatchingTile(e)})):e instanceof a&&new Array(e.amount).fill().forEach((function(){u.removeMatchingTile(e.getComponentTile())}))}));for(var l=function(){for(var e=u.contents[0];u.removeMatchingTile(e););var r=n.contents.some((function(t,n){return e.matches(t)}));if(!r&&!isNaN(e.value)){var o=[,,!0,,,];n.contents.forEach((function(t){t.type===e.type&&Math.abs(t.value-e.value)<=2&&(o[2-(t.value-e.value)]=!0)})),(o[0]&&o[1]||o[1]&&o[3]||o[3]&&o[4])&&(r=!0)}return r?(n.add(e),n.isMahjong(t)?(n.remove(e),{v:!0}):void n.remove(e)):"continue"};u.contents.length;){var f=l();if("continue"!==f&&"object"===r(f))return f.v}return!1}},function(e,t,n){n(30),n(46),n(90),n(24),n(80),n(161),n(135),n(27),n(117),n(33),n(147),n(176),n(49),n(48),n(76);var r=n(140),o=n(164),i=document.createElement("div");i.id="roomManager",document.body.appendChild(i);var a=document.createElement("div");a.id="heading",i.appendChild(a);var s=document.createElement("h1");s.innerHTML="Mahjong",s.id="mahjongHeading",a.appendChild(s);var c=document.createElement("h1");c.innerHTML="4 Friends",c.id="fourFriendsHeading",a.appendChild(c);var u=document.createElement("div");u.id="notInRoomContainer",i.appendChild(u);var l=document.createElement("input");l.id="roomIdInput",l.placeholder="Enter Room Name...",u.appendChild(l),u.appendChild(document.createElement("br"));var f=document.createElement("input");f.id="nicknameInput",f.placeholder="Choose a Nickname...",u.appendChild(f);var d=document.createElement("div");d.id="joinOrCreateRoom",u.appendChild(d);var h=document.createElement("button");h.id="joinRoom",h.innerHTML="Join Room",h.addEventListener("click",(function(){if(0===l.value.trim().length)return new r.Notification("Room Name Invalid",'The room name contains at least one character. Please enter it into the box labeled "Enter Room Name" ').show();f.value.length>18&&!confirm("Extremely long names may cause visual display problems on some devices. Proceed?")||window.stateManager.joinRoom(l.value.toLowerCase(),f.value)})),d.appendChild(h);var p=document.createElement("button");if(p.id="createRoom",p.innerHTML="Create Room",p.addEventListener("click",(function(){if(0===l.value.trim().length)return new r.Notification("Unable to Create Room",'Please pick a 1+ character long name, and enter it into the box labeled "Enter Room Name" ').show();f.value.length>18&&!confirm("Extremely long names may cause visual display problems on some devices. Proceed?")||window.stateManager.createRoom(l.value.toLowerCase(),f.value)})),d.appendChild(p),window.isNative)try{window.screen.orientation.lock("landscape")}catch(e){console.error(e)}var v=document.createElement("p");function m(e){var t,n,r=null===(t=window.screen)||void 0===t||null===(n=t.orientation)||void 0===n?void 0:n.type;(r?r.includes("portrait"):90!==Math.abs(window.orientation))&&screen.width<900?v.style.display="":v.style.display="none"}v.id="screenRotationAlert",v.innerHTML="Rotating your screen to Landscape mode is recommended. ",u.appendChild(v),window.addEventListener("orientationchange",m),m();var g=document.createElement("div");g.id="inRoomContainer",g.style.display="none",i.appendChild(g);var y=document.createElement("h2");y.id="currentRoom",g.appendChild(y);var w=document.createElement("h2");w.id="playerCount",g.appendChild(w);var b=document.createElement("div");b.id="playerView",g.appendChild(b);var x=document.createElement("button");x.innerHTML="Leave Room",x.id="leaveRoomButton",g.appendChild(x),x.addEventListener("click",(function(){confirm("Are you sure you want to leave this room?")&&window.stateManager.leaveRoom(window.stateManager.roomId)}));var E=document.createElement("button");E.innerHTML="Close Room",E.id="closeRoomButton",E.style.display="none",g.appendChild(E),E.addEventListener("click",(function(){confirm("Are you sure you want to close this room?")&&window.stateManager.closeRoom(window.stateManager.roomId)}));var S,T=document.createElement("button");T.innerHTML="Start Game",T.id="startGameButton",T.style.display="none",g.appendChild(T),T.addEventListener("click",(function(){window.stateManager.startGame(S.getChoices())}));var O=document.createElement("button");O.innerHTML="Add Bot",O.id="addBotButton",O.style.display="none",g.appendChild(O),O.addEventListener("click",(function(){var e=prompt("Please enter a name for the bot: ");e.length>18&&!confirm("Extremely long names may cause visual display problems on some devices. Proceed?")||window.stateManager.addBot(e)}));var C=document.createElement("div");C.id="gameSettingsElem",g.appendChild(C);var L=document.createElement("p");L.id="joinRoomLinkElem",L.innerHTML="Link to this room: ";var P=document.createElement("a");P.target="_blank",L.appendChild(P),g.appendChild(L);var k=document.createElement("p");k.id="roomSaveIdElem",g.appendChild(k);var M=document.createElement("a");M.target="_blank",M.href="https://drive.google.com/file/d/1aGyekkldVouVY2Hy7SXTTvhS7I5X6o8O/view",M.id="tutorialLink",M.innerHTML="Mahjong 4 Friends Tutorial",i.appendChild(M),i.appendChild(document.createElement("br"));var R=document.createElement("a");R.target="_blank",R.href="https://docs.google.com/document/d/1sSGxlRHMkWYHjYhxJTLvHoFsVPAgSs7DFRpsZLmgIvc/edit#heading=h.t7shfpx0qwex",R.id="documentationLink",R.innerHTML="See Full Documentation",i.appendChild(R);var I=document.createElement("p");if(I.id="supportInfo",I.innerHTML="Questions, Comments, or Concerns? Contact <a href='mailto:support@mahjong4friends.com'>support@mahjong4friends.com</a>",i.appendChild(I),window.Capacitor||window.isAndroid){var N=document.createElement("p");N.id="supportInfo",window.Capacitor?N.innerHTML='Enjoying Mahjong 4 Friends? Please <a href="https://apps.apple.com/us/app/mahjong-4-friends/id1552704332" target="_blank">rate us in the App Store</a>!':window.isAndroid&&(N.innerHTML='Enjoying Mahjong 4 Friends? Please <a href="https://play.google.com/store/apps/details?id=com.mahjong4friends.twa" target="_blank">leave a review on Google Play</a>!'),i.appendChild(N)}else{var A=function(e,t,n){var r=document.createElement("a");r.href=e,r.target="_blank";var o=document.createElement("img");o.src=t,o.alt=n,r.appendChild(o),j.appendChild(r)},j=document.createElement("div");j.id="externalAppStoresDiv",i.appendChild(j),A("https://apps.apple.com/us/app/mahjong-4-friends/id1552704332","assets/badges/appstore.svg","Get Mahjong 4 Friends on the App Store"),A("https://play.google.com/store/apps/details?id=com.mahjong4friends.twa","assets/badges/googleplay.svg","Get Mahjong 4 Friends on Google Play")}var F=document.createElement("p");F.innerHTML="Copyright © 2020, All Rights Reserved",F.id="copyrightNotice",i.appendChild(F),speechSynthesis.getVoices();var H={};function D(){var e=document.createElement("select"),t=speechSynthesis.getVoices();console.log(t);var n=document.createElement("option");n.value="none",n.innerHTML="No Voice",n.selected=!0,e.appendChild(n);var r=document.createElement("option");r.value="default",r.innerHTML="Default Voice",e.appendChild(r),t.forEach((function(t,n){var r=document.createElement("option");r.value=n,r.innerHTML=t.lang+"("+t.name+")",e.appendChild(r)})),this.elem=e,this.get=function(){return t[Number(e.value)]||e.value},this.set=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"none";e.value=n,-1!==t.indexOf(n)&&(e.value=t.indexOf(n))}}function U(){g.style.display="block",u.style.display="none";var e="#roomId="+stateManager.inRoom;P.href=e,window.isNative&&(P.href="https://mahjong4friends.com"+e),P.innerHTML=P.href}window.voiceChoices=H,window.stateManager.onJoinRoom=function(e){if("error"===e.status)return new r.Notification("Unable to Join Room",e.message).show();y.innerHTML="You are in room "+e.message,U()},window.stateManager.onCreateRoom=function(e){if("error"===e.status)return new r.Notification("Unable to Create Room",e.message).show();y.innerHTML="You are hosting room "+e.message,U()},window.stateManager.onLeaveRoom=function(e){g.style.display="none",u.style.display="block";var t=n(122);t.setClientId(t.createNewClientId()),new r.Notification("Out of Room",e.message).show()},window.stateManager.addEventListener("onStateUpdate",(function(e){var t;console.log(e),w.innerHTML=e.message.clients.length+"/4 Players are Present",k.innerHTML="In-Game Debugging ID: "+e.message.saveId;var n=null===(t=S)||void 0===t?void 0:t.getChoices();window.stateManager.isHost?(T.style.display="none",O.style.display="",E.style.display="",x.style.display="",(S=new o(C,!0)).setChoices(n),1===e.message.clients.length?x.style.display="none":4===e.message.clients.length&&(T.style.display="",O.style.display="none")):(O.style.display="none",E.style.display="none",T.style.display="none",x.style.display="",(S=new o(C,!1)).setChoices(n)),window.gameSettings=S,function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;b.firstChild;)b.firstChild.remove();e.forEach((function(e){var n=document.createElement("div");n.className="playerViewRow";var r=document.createElement("span");r.className="playerViewNameSpan",r.innerHTML=e.nickname,n.appendChild(r);var o=document.createElement("span");o.className="playerViewCard",n.appendChild(o);var i=document.createElement("span");i.className="playerViewVoiceChoice",n.appendChild(i);var a=document.createElement("span");a.className="playerViewIdSpan",a.innerHTML="User ID: "+e.id,n.appendChild(a),e.id===window.clientId?(i.innerHTML="N/A",window.stateManager.isHost?o.innerHTML="You (Host)":o.innerHTML="You"):(H[e.id]=H[e.id]||new D,i.appendChild(H[e.id].elem),e.isHost?o.innerHTML="Host":window.stateManager.isHost?(o.innerHTML="Kick "+e.nickname,o.classList.add("playerViewKickButton"),o.addEventListener("click",(function(){confirm("Are you sure you want to kick "+e.nickname)&&t(e.id)}))):o.innerHTML="Player"),b.appendChild(n)}))}(e.message.clients,(function(e){window.stateManager.kickUser(window.stateManager.roomId,e)}))})),window.stateManager.getCurrentRoom(),window.stateManager.addEventListener("onStartGame",(function(){i.style.display="none"})),window.stateManager.addEventListener("onEndGame",(function(e){i.style.display="","State Sync"!==e.message?new r.Notification("Game Ended",e.message).show():console.log("Game Ended due to state sync. Popup suppressed in dev mode. ")}));var _=new URLSearchParams("?"+window.location.hash.slice(1));_.has("roomId")&&(l.value=_.get("roomId")),_.has("name")&&(f.value=_.get("name")),_.has("clientId")&&!_.get("clientId").startsWith("bot")&&(!0,new r.MessageBar("This page is in development mode due to the clientId parameter. ").show(8e3)),e.exports=i},function(e,t,n){function r(){var e=document.createElement("div");e.id="randomizeWindsSelectorDiv";var t=document.createElement("input");t.id="randomizeWindsSelectorCheckbox",t.type="checkbox";var n=document.createElement("label");n.for="randomizeWindsSelectorCheckbox",n.innerHTML="Randomize Winds (Except East)",n.addEventListener("click",(function(){t.click()})),this.elem=e,e.appendChild(t),e.appendChild(n),this.get=function(){return t.checked},this.set=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t.checked=e},this.isHost=!0}function o(){var e=document.createElement("div");e.id="unlimitedSequencesSelectorDiv";var t=document.createElement("input");t.id="unlimitedSequencesSelectorCheckbox",t.type="checkbox";var n=document.createElement("label");n.for="unlimitedSequencesSelectorCheckbox",n.innerHTML="Allow Unlimited Sequences (WARNING: Some minor bugs)",n.addEventListener("click",(function(){t.click()})),this.elem=e,e.appendChild(t),e.appendChild(n),this.get=function(){return t.checked},this.set=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t.checked=e},this.isHost=!0}function i(){var e=document.createElement("div");e.id="botSelectorDiv";var t=document.createElement("input");t.id="botSelectorCheckbox",t.type="checkbox";var n=document.createElement("label");n.for="botSelectorCheckbox",n.innerHTML="Allow bot to charleston",n.addEventListener("click",(function(){t.click()})),this.elem=e,e.appendChild(t),e.appendChild(n),this.get=function(){return{canCharleston:t.checked}},this.set=function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.checked=null!==(e=null==n?void 0:n.canCharleston)&&void 0!==e&&e},this.isHost=!0}n(159),e.exports=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.firstChild;)e.firstChild.remove();var n=document.createElement("h2");n.innerHTML="Game Settings",e.appendChild(n);var a={unlimitedSequences:new o,randomizeWinds:new r,botSettings:new i};for(var s in a){var c=a[s];!c.isHost||t?(e.appendChild(c.elem),c.set()):delete a[s]}0===Object.keys(a).length&&n.remove(),this.getChoices=function(){var e={};for(var t in a)e[t]=a[t].get();return e},this.setChoices=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var t in e)a[t]&&a[t].set(e[t])}}},function(e,t,n){!function(e){"use strict";function t(e){return e===document.body||e===document.documentElement}function n(e,n){var r;if(t(e))r=0===n?e.clientLeft:e.clientTop;else{var o=e.getBoundingClientRect();r=0===n?o.left:o.top}return r}function r(e,n){return t(e)?0===n?window.innerWidth:window.innerHeight:0===n?e.clientWidth:e.clientHeight}function o(e,n,r){var o=0===n?"scrollLeft":"scrollTop",i=t(e);if(2===arguments.length)return i?document.body[o]||document.documentElement[o]:e[o];i?(document.documentElement[o]+=r,document.body[o]+=r):e[o]+=r}function i(e){var t=getComputedStyle(e);return e.scrollHeight>e.clientHeight&&("scroll"===t.overflowY||"auto"===t.overflowY)||e.scrollWidth>e.clientWidth&&("scroll"===t.overflowX||"auto"===t.overflowX)}function a(e,t,n){return e<n?-1:t-e<n?1:0}function s(e,t,n,r){return-1===e?Math.abs(t-r):1===e?Math.abs(n-t-r):0}function c(e,t,n){var r=0===e?n.scrollX:n.scrollY;return 1===t?r>=(0===e?n.scrollWidth-n.width:n.scrollHeight-n.height):-1!==t||r<=0}var u,l,f,d,h,p=75,v=function(e,t){var n=e/t;return n*n*n*t},m={horizontal:0,vertical:0},g={x:0,y:0};function y(){u||(u=window.requestAnimationFrame(w))}function w(){var e=0,n=0,r=t(d);0!==m.horizontal&&(e=Math.round(v(g.x,p)*m.horizontal),o(d,0,e)),0!==m.vertical&&(n=Math.round(v(g.y,p)*m.vertical),o(d,1,n)),r?h(e,n):h(0,0),u=null,b(l,d,p,m,g)&&y()}function b(e,t,i,u,l){if(!e||!t)return!1;var f={x:n(t,0),y:n(t,1),width:r(t,0),height:r(t,1),scrollX:o(t,0),scrollY:o(t,1),scrollWidth:t.scrollWidth,scrollHeight:t.scrollHeight},d={x:e.x-f.x,y:e.y-f.y};return u.horizontal=a(d.x,f.width,i),u.vertical=a(d.y,f.height,i),u.horizontal&&c(0,u.horizontal,f)?u.horizontal=0:u.horizontal&&(l.x=s(u.horizontal,d.x,f.width,i)),u.vertical&&c(1,u.vertical,f)?u.vertical=0:u.vertical&&(l.y=s(u.vertical,d.y,f.height,i)),!(!u.horizontal&&!u.vertical)}var x=function(e,t,n,r){l=t,h=r,f!==n&&(d=function(e){do{if(!e)return;if(i(e))return e;if(e===document.documentElement)return null}while(e=e.parentNode);return null}(f=n)),b(l,d,p,m,g)?y():u&&(window.cancelAnimationFrame(u),u=null)};e.scrollBehaviourDragImageTranslateOverride=x,Object.defineProperty(e,"__esModule",{value:!0})}(t)},function(e,t,n){
/*! mobile-drag-drop 2.3.0-rc.1 | Copyright (c) 2019 Tim Ruffles | MIT License */
!function(e){"use strict";var t="dnd-poly-",n=["none","copy","copyLink","copyMove","link","linkMove","move","all"],r=["none","copy","move","link"],o=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t)}catch(e){}return e}();function i(e){return e&&e.tagName}function a(e,t,n){void 0===n&&(n=!0),document.addEventListener(e,t,!!o&&{passive:n})}function s(e,t){document.removeEventListener(e,t)}function c(e,t,n,r){void 0===r&&(r=!1);var i=o?{passive:!0,capture:r}:r;return e.addEventListener(t,n,i),{off:function(){e.removeEventListener(t,n,i)}}}function u(e){return 0===e.length?0:e.reduce((function(e,t){return t+e}),0)/e.length}function l(e,t){for(var n=0;n<e.changedTouches.length;n++)if(e.changedTouches[n].identifier===t)return!0;return!1}function f(e,t,n){for(var r=[],o=[],i=0;i<t.touches.length;i++){var a=t.touches[i];r.push(a[e+"X"]),o.push(a[e+"Y"])}n.x=u(r),n.y=u(o)}var d=["","-webkit-"];function h(e,t,n,r,o){void 0===o&&(o=!0);var i=t.x,a=t.y;r&&(i+=r.x,a+=r.y),o&&(i-=parseInt(e.offsetWidth,10)/2,a-=parseInt(e.offsetHeight,10)/2);for(var s="translate3d("+i+"px,"+a+"px, 0)",c=0;c<d.length;c++){var u=d[c]+"transform";e.style[u]=s+" "+n[c]}}var p=function(){function e(e,t){this.t=e,this.i=t,this.s=r[0]}return Object.defineProperty(e.prototype,"dropEffect",{get:function(){return this.s},set:function(e){0!==this.t.mode&&n.indexOf(e)>-1&&(this.s=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"types",{get:function(){if(0!==this.t.mode)return Object.freeze(this.t.types)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"effectAllowed",{get:function(){return this.t.effectAllowed},set:function(e){2===this.t.mode&&n.indexOf(e)>-1&&(this.t.effectAllowed=e)},enumerable:!0,configurable:!0}),e.prototype.setData=function(e,t){if(2===this.t.mode){if(e.indexOf(" ")>-1)throw new Error("illegal arg: type contains space");this.t.data[e]=t,-1===this.t.types.indexOf(e)&&this.t.types.push(e)}},e.prototype.getData=function(e){if(1===this.t.mode||2===this.t.mode)return this.t.data[e]||""},e.prototype.clearData=function(e){if(2===this.t.mode){if(e&&this.t.data[e]){delete this.t.data[e];var t=this.t.types.indexOf(e);return void(t>-1&&this.t.types.splice(t,1))}this.t.data={},this.t.types=[]}},e.prototype.setDragImage=function(e,t,n){2===this.t.mode&&this.i(e,t,n)},e}();function v(e,t){return e?e===n[0]?r[0]:0===e.indexOf(n[1])||e===n[7]?r[1]:0===e.indexOf(n[4])?r[3]:e===n[6]?r[2]:r[1]:3===t.nodeType&&"A"===t.tagName?r[3]:r[1]}function m(e,t,n,r,o,i,a){void 0===i&&(i=!0),void 0===a&&(a=null);var s=function(e,t,n,r,o,i,a){void 0===a&&(a=null);var s=t.changedTouches[0],c=new Event(n,{bubbles:!0,cancelable:r});c.dataTransfer=i,c.relatedTarget=a,c.screenX=s.screenX,c.screenY=s.screenY,c.clientX=s.clientX,c.clientY=s.clientY,c.pageX=s.pageX,c.pageY=s.pageY;var u=e.getBoundingClientRect();return c.offsetX=c.clientX-u.left,c.offsetY=c.clientY-u.top,c}(t,n,e,i,document.defaultView,o,a),c=!t.dispatchEvent(s);return r.mode=0,c}function g(e,t){if(!e||e===n[7])return t;if(t===r[1]){if(0===e.indexOf(r[1]))return r[1]}else if(t===r[3]){if(0===e.indexOf(r[3])||e.indexOf("Link")>-1)return r[3]}else if(t===r[2]&&(0===e.indexOf(r[2])||e.indexOf("Move")>-1))return r[2];return r[0]}var y,w=function(){function e(e,t,n,r){this.h=e,this.o=t,this.u=n,this.l=r,this.v=0,this.p=null,this.g=null,this.m=e,this.I=e.changedTouches[0],this.j=this.C.bind(this),this.S=this.k.bind(this),a("touchmove",this.j,!1),a("touchend",this.S,!1),a("touchcancel",this.S,!1)}return e.prototype.A=function(){var e=this;this.v=1,this.O=r[0],this.D={data:{},effectAllowed:void 0,mode:3,types:[]},this.M={x:null,y:null},this.F={x:null,y:null};var t=this.u;if(this.N=new p(this.D,(function(n,r,o){t=n,"number"!=typeof r&&"number"!=typeof o||(e.P={x:r||0,y:o||0})})),this.D.mode=2,this.N.dropEffect=r[0],m("dragstart",this.u,this.m,this.D,this.N))return this.v=3,this.T(),!1;f("page",this.m,this.F);var n,o=this.o.dragImageSetup(t);if(this.L=(n=o,d.map((function(e){var t=n.style[e+"transform"];return t&&"none"!==t?t.replace(/translate\(\D*\d+[^,]*,\D*\d+[^,]*\)\s*/g,""):""}))),o.style.position="absolute",o.style.left="0px",o.style.top="0px",o.style.zIndex="999999",o.classList.add("dnd-poly-drag-image"),o.classList.add("dnd-poly-icon"),this._=o,!this.P)if(this.o.dragImageOffset)this.P={x:this.o.dragImageOffset.x,y:this.o.dragImageOffset.y};else if(this.o.dragImageCenterOnTouch){var i=getComputedStyle(t);this.P={x:0-parseInt(i.marginLeft,10),y:0-parseInt(i.marginTop,10)}}else{var a=t.getBoundingClientRect();i=getComputedStyle(t),this.P={x:a.left-this.I.clientX-parseInt(i.marginLeft,10)+a.width/2,y:a.top-this.I.clientY-parseInt(i.marginTop,10)+a.height/2}}return h(this._,this.F,this.L,this.P,this.o.dragImageCenterOnTouch),document.body.appendChild(this._),this.V=window.setInterval((function(){e.X||(e.X=!0,e.Y(),e.X=!1)}),this.o.iterationInterval),!0},e.prototype.T=function(){this.V&&(clearInterval(this.V),this.V=null),s("touchmove",this.j),s("touchend",this.S),s("touchcancel",this.S),this._&&(this._.parentNode.removeChild(this._),this._=null),this.l(this.o,this.m,this.v)},e.prototype.C=function(e){var t=this;if(!1!==l(e,this.I.identifier)){if(this.m=e,0===this.v){var n=void 0;if(this.o.dragStartConditionOverride)try{n=this.o.dragStartConditionOverride(e)}catch(e){n=!1}else n=1===e.touches.length;return n?void(!0===this.A()&&(this.h.preventDefault(),e.preventDefault())):void this.T()}if(e.preventDefault(),f("client",e,this.M),f("page",e,this.F),this.o.dragImageTranslateOverride)try{var r=!1;if(this.o.dragImageTranslateOverride(e,{x:this.M.x,y:this.M.y},this.p,(function(e,n){t._&&(r=!0,t.M.x+=e,t.M.y+=n,t.F.x+=e,t.F.y+=n,h(t._,t.F,t.L,t.P,t.o.dragImageCenterOnTouch))})),r)return}catch(e){}h(this._,this.F,this.L,this.P,this.o.dragImageCenterOnTouch)}},e.prototype.k=function(e){if(!1!==l(e,this.I.identifier)){if(this.o.dragImageTranslateOverride)try{this.o.dragImageTranslateOverride(void 0,void 0,void 0,(function(){}))}catch(e){}0!==this.v?(e.preventDefault(),this.v="touchcancel"===e.type?3:2):this.T()}},e.prototype.Y=function(){var e=this,n=this.O;this.D.mode=3,this.N.dropEffect=r[0];var o=m("drag",this.u,this.m,this.D,this.N);if(o&&(this.O=r[0]),o||2===this.v||3===this.v)return this.q(this.v)?void function(e,t,n,r){var o=getComputedStyle(e);if("hidden"!==o.visibility&&"none"!==o.display){t.classList.add("dnd-poly-snapback");var i=getComputedStyle(t),a=parseFloat(i.transitionDuration);if(isNaN(a)||0===a)r();else{var s=e.getBoundingClientRect(),c={x:s.left,y:s.top};c.x+=document.body.scrollLeft||document.documentElement.scrollLeft,c.y+=document.body.scrollTop||document.documentElement.scrollTop,c.x-=parseInt(o.marginLeft,10),c.y-=parseInt(o.marginTop,10);var u=parseFloat(i.transitionDelay),l=Math.round(1e3*(a+u));h(t,c,n,void 0,!1),setTimeout(r,l)}}else r()}(this.u,this._,this.L,(function(){e.B()})):void this.B();var a=this.o.elementFromPoint(this.M.x,this.M.y),s=this.g;a!==this.p&&a!==this.g&&(this.p=a,null!==this.g&&(this.D.mode=3,this.N.dropEffect=r[0],m("dragexit",this.g,this.m,this.D,this.N,!1)),null===this.p?this.g=this.p:(this.D.mode=3,this.N.dropEffect=v(this.D.effectAllowed,this.u),m("dragenter",this.p,this.m,this.D,this.N)?(this.g=this.p,this.O=g(this.N.effectAllowed,this.N.dropEffect)):this.p!==document.body&&(this.g=document.body))),s!==this.g&&i(s)&&(this.D.mode=3,this.N.dropEffect=r[0],m("dragleave",s,this.m,this.D,this.N,!1,this.g)),i(this.g)&&(this.D.mode=3,this.N.dropEffect=v(this.D.effectAllowed,this.u),!1===m("dragover",this.g,this.m,this.D,this.N)?this.O=r[0]:this.O=g(this.N.effectAllowed,this.N.dropEffect)),n!==this.O&&this._.classList.remove(t+n);var c=t+this.O;this._.classList.add(c)},e.prototype.q=function(e){var t=this.O===r[0]||null===this.g||3===e;return t?i(this.g)&&(this.D.mode=3,this.N.dropEffect=r[0],m("dragleave",this.g,this.m,this.D,this.N,!1)):i(this.g)&&(this.D.mode=1,this.N.dropEffect=this.O,!0===m("drop",this.g,this.m,this.D,this.N)?this.O=this.N.dropEffect:this.O=r[0]),t},e.prototype.B=function(){this.D.mode=3,this.N.dropEffect=this.O,m("dragend",this.u,this.m,this.D,this.N,!1),this.v=2,this.T()},e}(),b={iterationInterval:150,tryFindDraggableTarget:function(e){var t=e.target;do{if(!1!==t.draggable){if(!0===t.draggable)return t;if(t.getAttribute&&"true"===t.getAttribute("draggable"))return t}}while((t=t.parentNode)&&t!==document.body)},dragImageSetup:function(e){var t=e.cloneNode(!0);return function e(t,n){if(1===t.nodeType){for(var r=getComputedStyle(t),o=0;o<r.length;o++){var i=r[o];n.style.setProperty(i,r.getPropertyValue(i),r.getPropertyPriority(i))}if(n.style.pointerEvents="none",n.removeAttribute("id"),n.removeAttribute("class"),n.removeAttribute("draggable"),"CANVAS"===n.nodeName){var a=t,s=n,c=a.getContext("2d").getImageData(0,0,a.width,a.height);s.getContext("2d").putImageData(c,0,0)}}if(t.hasChildNodes())for(o=0;o<t.childNodes.length;o++)e(t.childNodes[o],n.childNodes[o])}(e,t),t},elementFromPoint:function(e,t){return document.elementFromPoint(e,t)}};function x(e){if(!y){var t=b.tryFindDraggableTarget(e);if(t)try{y=new w(e,b,t,S)}catch(t){throw S(b,e,3),t}}}function E(e){var t=e.target,n=function(e){o.off(),i.off(),a.off(),s.off(),t&&t.dispatchEvent(new CustomEvent("dnd-poly-dragstart-cancel",{bubbles:!0,cancelable:!0})),clearTimeout(r)};t&&t.dispatchEvent(new CustomEvent("dnd-poly-dragstart-pending",{bubbles:!0,cancelable:!0}));var r=window.setTimeout((function(){o.off(),i.off(),a.off(),s.off(),x(e)}),b.holdToDrag),o=c(t,"touchend",n),i=c(t,"touchcancel",n),a=c(t,"touchmove",n),s=c(window,"scroll",n,!0)}function S(e,t,n){if(0===n&&e.defaultActionOverride)try{e.defaultActionOverride(t),t.defaultPrevented}catch(e){}y=null}e.polyfill=function(e){if(e&&Object.keys(e).forEach((function(t){b[t]=e[t]})),!b.forceApply){var t=(n={dragEvents:"ondragstart"in document.documentElement,draggable:"draggable"in document.documentElement,userAgentSupportingNativeDnD:void 0},r=!!window.chrome||/chrome/i.test(navigator.userAgent),n.userAgentSupportingNativeDnD=!(/iPad|iPhone|iPod|Android/.test(navigator.userAgent)||r&&"ontouchstart"in document.documentElement),n);if(t.userAgentSupportingNativeDnD&&t.draggable&&t.dragEvents)return!1}var n,r;return b.holdToDrag?a("touchstart",E,!1):a("touchstart",x,!1),!0},Object.defineProperty(e,"__esModule",{value:!0})}(t)},function(e,t,n){var r={"./GameBoard.js":149,"./Hand.js":113,"./Hand/getClearHandDoubles.js":158,"./Hand/isCalling.js":162,"./Hand/isMahjong.js":160,"./Hand/score.js":157,"./Hand/syncContents.js":156,"./Match.js":66,"./Popups.js":140,"./Pretty.js":81,"./RoomManager.js":163,"./RoomManager/SettingsMenu.js":164,"./Sequence.js":67,"./StateManager.js":122,"./Tile.js":40,"./Wall.js":101,"./index.js":141,"./universalLinks.js":107};function o(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=i,e.exports=o,o.id=167},function(e,t,n){var r=n(13),o=n(53).f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==i.call(e)?function(e){try{return o(e)}catch(e){return a.slice()}}(e):o(r(e))}},function(e,t,n){"use strict";var r=n(16),o=n(54),i=n(12);e.exports=function(e){for(var t=r(this),n=i(t.length),a=arguments.length,s=o(a>1?arguments[1]:void 0,n),c=a>2?arguments[2]:void 0,u=void 0===c?n:o(c,n);u>s;)t[s++]=e;return t}},function(e,t,n){var r=n(6),o=n(103);e.exports=function(e,t,n){var i,a;return o&&"function"==typeof(i=t.constructor)&&i!==n&&r(a=i.prototype)&&a!==n.prototype&&o(e,a),e}},function(e,t,n){"use strict";var r=n(4),o=n(72).findIndex,i=n(74),a=n(37),s=!0,c=a("findIndex");"findIndex"in[]&&Array(1).findIndex((function(){s=!1})),r({target:"Array",proto:!0,forced:s||!c},{findIndex:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),i("findIndex")},function(e,t,n){var r=n(4),o=n(106);r({target:"Array",stat:!0,forced:!n(109)((function(e){Array.from(e)}))},{from:o})},function(e,t,n){"use strict";var r=n(4),o=n(174).left,i=n(73),a=n(37),s=i("reduce"),c=a("reduce",{1:0});r({target:"Array",proto:!0,forced:!s||!c},{reduce:function(e){return o(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var r=n(23),o=n(16),i=n(34),a=n(12),s=function(e){return function(t,n,s,c){r(n);var u=o(t),l=i(u),f=a(u.length),d=e?f-1:0,h=e?-1:1;if(s<2)for(;;){if(d in l){c=l[d],d+=h;break}if(d+=h,e?d<0:f<=d)throw TypeError("Reduce of empty array with no initial value")}for(;e?d>=0:f>d;d+=h)d in l&&(c=n(c,l[d],d,u));return c}};e.exports={left:s(!1),right:s(!0)}},function(e,t,n){"use strict";var r=n(4),o=n(34),i=n(13),a=n(73),s=[].join,c=o!=Object,u=a("join",",");r({target:"Array",proto:!0,forced:c||!u},{join:function(e){return s.call(i(this),void 0===e?",":e)}})},function(e,t,n){"use strict";var r=n(4),o=n(152).trim;r({target:"String",proto:!0,forced:n(177)("trim")},{trim:function(){return o(this)}})},function(e,t,n){var r=n(2),o=n(153);e.exports=function(e){return r((function(){return!!o[e]()||"​᠎"!="​᠎"[e]()||o[e].name!==e}))}}]);
//# sourceMappingURL=index.js.map